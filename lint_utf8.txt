
> newnextjs@0.1.0 lint
> eslint


D:\gemini_tabu_test\geminitabu\newnextjs\src\app\api\admin\announcements\[id]\route.ts
  3:10  warning  'z' is defined but never used  @typescript-eslint/no-unused-vars

D:\gemini_tabu_test\geminitabu\newnextjs\src\app\page.tsx
  44:7  error    Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

D:\gemini_tabu_test\geminitabu\newnextjs\src\app\page.tsx:44:7
  42 |   useEffect(() => {
  43 |     if (sessionUsername && !username) {
> 44 |       setUsername(sessionUsername);
     |       ^^^^^^^^^^^ Avoid calling setState() directly within an effect
  45 |     }
  46 |   }, [sessionUsername]);
  47 |  react-hooks/set-state-in-effect
  46:6  warning  React Hook useEffect has a missing dependency: 'username'. Either include it or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             react-hooks/exhaustive-deps
  49:5  error    Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

D:\gemini_tabu_test\geminitabu\newnextjs\src\app\page.tsx:49:5
  47 |
  48 |   useEffect(() => {
> 49 |     setMounted(true);
     |     ^^^^^^^^^^ Avoid calling setState() directly within an effect
  50 |   }, []);
  51 |
  52 |   const handleJoinOrCreate = useCallback(                                      react-hooks/set-state-in-effect

D:\gemini_tabu_test\geminitabu\newnextjs\src\app\register\page.tsx
  40:18  warning  'err' is defined but never used  @typescript-eslint/no-unused-vars

D:\gemini_tabu_test\geminitabu\newnextjs\src\app\room\[code]\page.tsx
  234:8   warning  React Hook useEffect has a missing dependency: 'session?.user?.name'. Either include it or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               react-hooks/exhaustive-deps
  379:38  error    Error: Cannot access refs during render

React refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).

D:\gemini_tabu_test\geminitabu\newnextjs\src\app\room\[code]\page.tsx:379:38
  377 |                     creatorId={creatorId}
  378 |                     creatorPlayerId={creatorPlayerId}
> 379 |                     currentSocketId={socketRef.current?.id || ""}
      |                                      ^^^^^^^^^^^^^^^^^ Cannot access ref value during render
  380 |                     currentPlayerId={myPlayerId}
  381 |                     isOpen={sidebarAOpen}
  382 |                     onToggle={() => setSidebarAOpen((prev) => !prev)}            react-hooks/refs
  379:38  error    Error: Cannot access refs during render

React refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).

D:\gemini_tabu_test\geminitabu\newnextjs\src\app\room\[code]\page.tsx:379:38
  377 |                     creatorId={creatorId}
  378 |                     creatorPlayerId={creatorPlayerId}
> 379 |                     currentSocketId={socketRef.current?.id || ""}
      |                                      ^^^^^^^^^^^^^^^^^^^^^ Cannot access ref value during render
  380 |                     currentPlayerId={myPlayerId}
  381 |                     isOpen={sidebarAOpen}
  382 |                     onToggle={() => setSidebarAOpen((prev) => !prev)}        react-hooks/refs
  379:38  error    Error: Cannot access refs during render

React refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).

D:\gemini_tabu_test\geminitabu\newnextjs\src\app\room\[code]\page.tsx:379:38
  377 |                     creatorId={creatorId}
  378 |                     creatorPlayerId={creatorPlayerId}
> 379 |                     currentSocketId={socketRef.current?.id || ""}
      |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^ Cannot access ref value during render
  380 |                     currentPlayerId={myPlayerId}
  381 |                     isOpen={sidebarAOpen}
  382 |                     onToggle={() => setSidebarAOpen((prev) => !prev)}  react-hooks/refs
  447:38  error    Error: Cannot access refs during render

React refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).

D:\gemini_tabu_test\geminitabu\newnextjs\src\app\room\[code]\page.tsx:447:38
  445 |                     creatorId={creatorId}
  446 |                     creatorPlayerId={creatorPlayerId}
> 447 |                     currentSocketId={socketRef.current?.id || ""}
      |                                      ^^^^^^^^^^^^^^^^^ Cannot access ref value during render
  448 |                     currentPlayerId={myPlayerId}
  449 |                     isOpen={sidebarBOpen}
  450 |                     onToggle={() => setSidebarBOpen((prev) => !prev)}            react-hooks/refs
  447:38  error    Error: Cannot access refs during render

React refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).

D:\gemini_tabu_test\geminitabu\newnextjs\src\app\room\[code]\page.tsx:447:38
  445 |                     creatorId={creatorId}
  446 |                     creatorPlayerId={creatorPlayerId}
> 447 |                     currentSocketId={socketRef.current?.id || ""}
      |                                      ^^^^^^^^^^^^^^^^^^^^^ Cannot access ref value during render
  448 |                     currentPlayerId={myPlayerId}
  449 |                     isOpen={sidebarBOpen}
  450 |                     onToggle={() => setSidebarBOpen((prev) => !prev)}        react-hooks/refs
  447:38  error    Error: Cannot access refs during render

React refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).

D:\gemini_tabu_test\geminitabu\newnextjs\src\app\room\[code]\page.tsx:447:38
  445 |                     creatorId={creatorId}
  446 |                     creatorPlayerId={creatorPlayerId}
> 447 |                     currentSocketId={socketRef.current?.id || ""}
      |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^ Cannot access ref value during render
  448 |                     currentPlayerId={myPlayerId}
  449 |                     isOpen={sidebarBOpen}
  450 |                     onToggle={() => setSidebarBOpen((prev) => !prev)}  react-hooks/refs

D:\gemini_tabu_test\geminitabu\newnextjs\src\components\game\announcements-modal.tsx
    6:5   warning  'Bell' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 @typescript-eslint/no-unused-vars
   48:13  error    Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

D:\gemini_tabu_test\geminitabu\newnextjs\src\components\game\announcements-modal.tsx:48:13
  46 |     useEffect(() => {
  47 |         if (isOpen) {
> 48 |             setLoading(true);
     |             ^^^^^^^^^^ Avoid calling setState() directly within an effect
  49 |             fetch("/api/announcements/visible")
  50 |                 .then((res) => res.json())
  51 |                 .then((data) => {  react-hooks/set-state-in-effect
  221:49  warning  Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          @next/next/no-img-element

D:\gemini_tabu_test\geminitabu\newnextjs\src\components\game\lobby.tsx
    4:10  warning  'Button' is defined but never used                 @typescript-eslint/no-unused-vars
   22:5   warning  'Crown' is defined but never used                  @typescript-eslint/no-unused-vars
   23:5   warning  'UserMinus' is defined but never used              @typescript-eslint/no-unused-vars
   24:5   warning  'ArrowRightLeft' is defined but never used         @typescript-eslint/no-unused-vars
   66:5   warning  'creatorId' is defined but never used              @typescript-eslint/no-unused-vars
   67:5   warning  'currentSocketId' is defined but never used        @typescript-eslint/no-unused-vars
   75:5   warning  'onKickPlayer' is defined but never used           @typescript-eslint/no-unused-vars
   76:5   warning  'onTransferHost' is defined but never used         @typescript-eslint/no-unused-vars
  133:13  warning  'teamAPlayers' is assigned a value but never used  @typescript-eslint/no-unused-vars
  133:27  warning  'teamBPlayers' is assigned a value but never used  @typescript-eslint/no-unused-vars

D:\gemini_tabu_test\geminitabu\newnextjs\src\components\game\rules-modal.tsx
  11:5  warning  'Timer' is defined but never used  @typescript-eslint/no-unused-vars

D:\gemini_tabu_test\geminitabu\newnextjs\src\components\game\sidebar.tsx
   3:67  warning  'Menu' is defined but never used             @typescript-eslint/no-unused-vars
  54:5   warning  'creatorId' is defined but never used        @typescript-eslint/no-unused-vars
  56:5   warning  'currentSocketId' is defined but never used  @typescript-eslint/no-unused-vars

D:\gemini_tabu_test\geminitabu\newnextjs\src\components\providers\socket-provider.tsx
  52:25  error  Error: Cannot access refs during render

React refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).

D:\gemini_tabu_test\geminitabu\newnextjs\src\components\providers\socket-provider.tsx:52:25
  50 |         <SocketContext.Provider
  51 |             value={{
> 52 |                 socket: socketRef.current,
     |                         ^^^^^^^^^^^^^^^^^ Cannot access ref value during render
  53 |                 isConnected,
  54 |             }}
  55 |         >  react-hooks/refs
  52:25  error  Error: Cannot access refs during render

React refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).

D:\gemini_tabu_test\geminitabu\newnextjs\src\components\providers\socket-provider.tsx:52:25
  50 |         <SocketContext.Provider
  51 |             value={{
> 52 |                 socket: socketRef.current,
     |                         ^^^^^^^^^^^^^^^^^ Cannot access ref value during render
  53 |                 isConnected,
  54 |             }}
  55 |         >  react-hooks/refs

D:\gemini_tabu_test\geminitabu\newnextjs\src\components\ui\sidebar.tsx
  611:26  error  Error: Cannot call impure function during render

`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).

D:\gemini_tabu_test\geminitabu\newnextjs\src\components\ui\sidebar.tsx:611:26
  609 |   // Random width between 50 to 90%.
  610 |   const width = React.useMemo(() => {
> 611 |     return `${Math.floor(Math.random() * 40) + 50}%`
      |                          ^^^^^^^^^^^^^ Cannot call impure function
  612 |   }, [])
  613 |
  614 |   return (  react-hooks/purity

D:\gemini_tabu_test\geminitabu\newnextjs\src\lib\socket\game-socket.ts
  2:16  warning  'uuidv4' is defined but never used  @typescript-eslint/no-unused-vars

D:\gemini_tabu_test\geminitabu\newnextjs\src\types\next-auth.d.ts
  1:8  warning  'NextAuth' is defined but never used  @typescript-eslint/no-unused-vars

Ô£û 34 problems (12 errors, 22 warnings)

