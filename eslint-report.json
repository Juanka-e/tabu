[{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\postcss.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\scripts\\create-user.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\scripts\\reproduce-room-error.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\scripts\\test-admin-flow.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\scripts\\test-health.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\scripts\\test-http.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\scripts\\test-page.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\scripts\\test-socket.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\scripts\\verify-admin-persistence.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\server.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\admin\\(dashboard)\\announcements\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\admin\\(dashboard)\\bulk-upload\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\admin\\(dashboard)\\categories\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\admin\\(dashboard)\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\admin\\(dashboard)\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\admin\\(dashboard)\\words\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\admin\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\admin\\login\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\api\\admin\\announcements\\[id]\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'z' is defined but never used.","line":3,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":11,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"z"},"fix":{"range":[98,124],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from \"next/server\";\r\nimport { prisma } from \"@/lib/prisma\";\r\nimport { z } from \"zod\";\r\n\r\nexport const dynamic = \"force-dynamic\";\r\n\r\n// PUT - Update announcement\r\n\r\nexport async function PUT(\r\n    request: NextRequest,\r\n    { params }: { params: Promise<{ id: string }> }\r\n) {\r\n    try {\r\n        const { id } = await params;\r\n        const body = await request.json();\r\n\r\n        // Allow partial updates - only include fields that are present\r\n        const data: Record<string, unknown> = {};\r\n        if (body.title !== undefined) data.title = body.title;\r\n        if (body.content !== undefined) data.content = body.content;\r\n        if (body.type !== undefined) data.type = body.type;\r\n        if (body.isVisible !== undefined) data.isVisible = body.isVisible;\r\n        if (body.isPinned !== undefined) data.isPinned = body.isPinned;\r\n        if (body.version !== undefined) data.version = body.version;\r\n        if (body.tags !== undefined) data.tags = body.tags;\r\n        if (body.mediaUrl !== undefined) data.mediaUrl = body.mediaUrl;\r\n        if (body.mediaType !== undefined) data.mediaType = body.mediaType;\r\n\r\n        const announcement = await prisma.announcement.update({\r\n            where: { id: parseInt(id) },\r\n            data,\r\n        });\r\n\r\n        return NextResponse.json(announcement);\r\n    } catch (error) {\r\n        console.error(\"Failed to update announcement:\", error);\r\n        return NextResponse.json(\r\n            { error: \"Duyuru güncellenemedi.\" },\r\n            { status: 500 }\r\n        );\r\n    }\r\n}\r\n\r\n// DELETE\r\nexport async function DELETE(\r\n    _request: NextRequest,\r\n    { params }: { params: Promise<{ id: string }> }\r\n) {\r\n    try {\r\n        const { id } = await params;\r\n        await prisma.announcement.delete({ where: { id: parseInt(id) } });\r\n        return NextResponse.json({ success: true });\r\n    } catch (error) {\r\n        console.error(\"Failed to delete announcement:\", error);\r\n        return NextResponse.json(\r\n            { error: \"Duyuru silinemedi.\" },\r\n            { status: 500 }\r\n        );\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\api\\admin\\announcements\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\api\\admin\\categories\\[id]\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\api\\admin\\categories\\reorder\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\api\\admin\\categories\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\api\\admin\\dashboard-stats\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\api\\admin\\words\\[id]\\route.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":48,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":48,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1499,1502],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1499,1502],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\api\\admin\\words\\bulk-upload\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\api\\admin\\words\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\api\\announcements\\visible\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\api\\auth\\[...nextauth]\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\api\\auth\\register\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\login\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\page.tsx","messages":[{"ruleId":null,"message":"Unused eslint-disable directive (no problems were reported from 'react-hooks/exhaustive-deps').","line":42,"column":3,"severity":1,"nodeType":null,"fix":{"range":[1511,1566],"text":" "}},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'username'. Either include it or remove the dependency array.","line":47,"column":6,"nodeType":"ArrayExpression","endLine":47,"endColumn":23,"suggestions":[{"desc":"Update the dependencies array to be: [sessionUsername, username]","fix":{"range":[1679,1696],"text":"[sessionUsername, username]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":1,"source":"\"use client\";\r\n\r\nimport { useState, useEffect, useCallback } from \"react\";\r\nimport { io, Socket } from \"socket.io-client\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport {\r\n  Gamepad2,\r\n  Users,\r\n  Plus,\r\n  LogIn,\r\n  Sparkles,\r\n  Moon,\r\n  Sun,\r\n  Megaphone,\r\n} from \"lucide-react\";\r\nimport { useTheme } from \"next-themes\";\r\nimport { useSession, signOut, signIn } from \"next-auth/react\";\r\nimport { AnnouncementsModal } from \"@/components/game/announcements-modal\";\r\n\r\nexport default function HomePage() {\r\n  const [roomCode, setRoomCode] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [isConnecting, setIsConnecting] = useState(false);\r\n  const [showAnnouncements, setShowAnnouncements] = useState(false);\r\n  const { theme, setTheme } = useTheme();\r\n  const [mounted, setMounted] = useState(false);\r\n  const router = useRouter();\r\n  const { data: session } = useSession();\r\n  const sessionUsername = session?.user?.name || \"\";\r\n  const isGuest = session?.user?.role === \"guest\";\r\n  const isRegisteredUser = !!session?.user && !isGuest;\r\n  const hasAnySession = !!session?.user;\r\n\r\n  // Set initial username from session if available\r\n  const [username, setUsername] = useState(sessionUsername || \"\");\r\n\r\n  // Sync username if session loads late\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  useEffect(() => {\r\n    if (sessionUsername && !username) {\r\n      setUsername(sessionUsername);\r\n    }\r\n  }, [sessionUsername]);\r\n\r\n  useEffect(() => {\r\n    setMounted(true);\r\n  }, []);\r\n\r\n  const handleJoinOrCreate = useCallback(\r\n    async (isCreate: boolean) => {\r\n      if (!username.trim()) {\r\n        setError(\"Lütfen bir kullanıcı adı girin.\");\r\n        return;\r\n      }\r\n\r\n      if (!isCreate && !roomCode.trim()) {\r\n        setError(\"Lütfen bir oda kodu girin.\");\r\n        return;\r\n      }\r\n\r\n      setIsConnecting(true);\r\n      setError(\"\");\r\n\r\n      try {\r\n        // Automatically sign in as guest if absolutely no session exists\r\n        if (!hasAnySession) {\r\n          const res = await signIn(\"guest-login\", {\r\n            guestName: username.trim(),\r\n            redirect: false,\r\n          });\r\n\r\n          if (res?.error) {\r\n            setError(\"Sunucuya bağlanılamadı (Oturum açılamadı). Lütfen tekrar deneyin.\");\r\n            setIsConnecting(false);\r\n            return;\r\n          }\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Auto-login failed:\", err);\r\n        setError(\"Oturum açılırken bir hata oluştu.\");\r\n        setIsConnecting(false);\r\n        return;\r\n      }\r\n\r\n      const socket: Socket = io({\r\n        path: \"/api/socketio\",\r\n        transports: [\"websocket\", \"polling\"],\r\n      });\r\n\r\n      socket.on(\"connect\", () => {\r\n        socket.emit(\"odaİsteği\", {\r\n          kullaniciAdi: username.trim(),\r\n          odaKodu: isCreate ? undefined : roomCode.trim().toUpperCase()\r\n        });\r\n      });\r\n\r\n      socket.on(\"lobiGuncelle\", (data: { odaKodu: string }) => {\r\n        // Store socket info and redirect to room\r\n        localStorage.setItem(\"tabu_username\", username.trim());\r\n        socket.disconnect();\r\n        router.push(`/room/${data.odaKodu}`);\r\n      });\r\n\r\n      socket.on(\"hata\", (msg: string) => {\r\n        setError(msg);\r\n        setIsConnecting(false);\r\n        socket.disconnect();\r\n      });\r\n\r\n      socket.on(\"connect_error\", () => {\r\n        setError(\"Sunucuya bağlanılamadı. Lütfen tekrar deneyin.\");\r\n        setIsConnecting(false);\r\n      });\r\n    },\r\n    [username, roomCode, router, hasAnySession]\r\n  );\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-background via-background to-muted flex flex-col items-center justify-center p-4 relative overflow-hidden\">\r\n      {/* Background decorations */}\r\n      <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\r\n        <div className=\"absolute -top-40 -right-40 w-80 h-80 bg-purple-500/10 rounded-full blur-3xl\" />\r\n        <div className=\"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500/10 rounded-full blur-3xl\" />\r\n        <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-emerald-500/5 rounded-full blur-3xl\" />\r\n      </div>\r\n\r\n      {/* Top bar */}\r\n      <div className=\"fixed top-4 right-4 flex items-center gap-2 z-50\">\r\n        {!isRegisteredUser && (\r\n          <>\r\n            <Button variant=\"ghost\" size=\"sm\" onClick={() => router.push(\"/login\")}>\r\n              Giriş Yap\r\n            </Button>\r\n            <Button variant=\"outline\" size=\"sm\" onClick={() => router.push(\"/register\")}>\r\n              Kayıt Ol\r\n            </Button>\r\n          </>\r\n        )}\r\n        {isRegisteredUser && (\r\n          <Button variant=\"ghost\" size=\"sm\" onClick={() => signOut()}>\r\n            {sessionUsername} (Çıkış)\r\n          </Button>\r\n        )}\r\n        <Button\r\n          variant=\"ghost\"\r\n          size=\"icon\"\r\n          onClick={() => setShowAnnouncements(true)}\r\n          className=\"rounded-full\"\r\n        >\r\n          <Megaphone className=\"h-5 w-5\" />\r\n        </Button>\r\n        {mounted && (\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            onClick={() => setTheme(theme === \"dark\" ? \"light\" : \"dark\")}\r\n            className=\"rounded-full\"\r\n          >\r\n            {theme === \"dark\" ? (\r\n              <Sun className=\"h-5 w-5\" />\r\n            ) : (\r\n              <Moon className=\"h-5 w-5\" />\r\n            )}\r\n          </Button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Main card */}\r\n      <Card className=\"w-full max-w-md relative z-10 border-border/50 bg-card/80 backdrop-blur-xl shadow-2xl\">\r\n        <CardHeader className=\"text-center space-y-4 pb-2\">\r\n          <div className=\"mx-auto w-16 h-16 bg-gradient-to-br from-purple-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg\">\r\n            <Gamepad2 className=\"h-8 w-8 text-white\" />\r\n          </div>\r\n          <div>\r\n            <CardTitle className=\"text-3xl font-bold bg-gradient-to-r from-purple-400 to-blue-500 bg-clip-text text-transparent\">\r\n              TABU\r\n            </CardTitle>\r\n            <p className=\"text-sm text-muted-foreground mt-1\">\r\n              Online Sözcük Tahmin Oyunu\r\n            </p>\r\n          </div>\r\n        </CardHeader>\r\n\r\n        <CardContent className=\"space-y-6 pt-4\">\r\n          {/* Username */}\r\n          <div className=\"space-y-2\">\r\n            <div className=\"flex items-center gap-2 text-sm font-medium text-foreground\">\r\n              <Users className=\"h-4 w-4 text-muted-foreground\" />\r\n              Kullanıcı Adı\r\n            </div>\r\n            <Input\r\n              placeholder=\"Adınızı girin...\"\r\n              value={username}\r\n              onChange={(e) => {\r\n                setUsername(e.target.value);\r\n                setError(\"\");\r\n              }}\r\n              onKeyDown={(e) => {\r\n                if (e.key === \"Enter\" && username.trim()) {\r\n                  handleJoinOrCreate(true);\r\n                }\r\n              }}\r\n              maxLength={50}\r\n              className=\"h-12 text-base bg-background/50\"\r\n            />\r\n          </div>\r\n\r\n          {/* Create Room */}\r\n          <Button\r\n            onClick={() => handleJoinOrCreate(true)}\r\n            disabled={isConnecting || !username.trim()}\r\n            className=\"w-full h-12 text-base font-semibold bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 shadow-lg hover:shadow-xl transition-all duration-200\"\r\n          >\r\n            {isConnecting ? (\r\n              <div className=\"flex items-center gap-2\">\r\n                <div className=\"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent\" />\r\n                Bağlanılıyor...\r\n              </div>\r\n            ) : (\r\n              <div className=\"flex items-center gap-2\">\r\n                <Plus className=\"h-5 w-5\" />\r\n                Yeni Oda Oluştur\r\n              </div>\r\n            )}\r\n          </Button>\r\n\r\n          {/* Divider */}\r\n          <div className=\"flex items-center gap-3\">\r\n            <Separator className=\"flex-1\" />\r\n            <span className=\"text-xs text-muted-foreground font-medium uppercase tracking-wider\">\r\n              veya\r\n            </span>\r\n            <Separator className=\"flex-1\" />\r\n          </div>\r\n\r\n          {/* Join Room */}\r\n          <div className=\"space-y-3\">\r\n            <div className=\"flex items-center gap-2 text-sm font-medium text-foreground\">\r\n              <Sparkles className=\"h-4 w-4 text-muted-foreground\" />\r\n              Oda Kodu\r\n            </div>\r\n            <div className=\"flex gap-2\">\r\n              <Input\r\n                placeholder=\"Örn: ABC123\"\r\n                value={roomCode}\r\n                onChange={(e) => {\r\n                  setRoomCode(e.target.value.toUpperCase());\r\n                  setError(\"\");\r\n                }}\r\n                onKeyDown={(e) => {\r\n                  if (e.key === \"Enter\" && username.trim() && roomCode.trim()) {\r\n                    handleJoinOrCreate(false);\r\n                  }\r\n                }}\r\n                maxLength={6}\r\n                className=\"h-12 text-base font-mono tracking-widest text-center bg-background/50\"\r\n              />\r\n              <Button\r\n                onClick={() => handleJoinOrCreate(false)}\r\n                disabled={\r\n                  isConnecting || !username.trim() || !roomCode.trim()\r\n                }\r\n                variant=\"secondary\"\r\n                className=\"h-12 px-6 font-semibold\"\r\n              >\r\n                <LogIn className=\"h-5 w-5 mr-1\" />\r\n                Katıl\r\n              </Button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Error */}\r\n          {error && (\r\n            <div className=\"p-3 rounded-lg bg-destructive/10 border border-destructive/20 text-destructive text-sm text-center animate-in fade-in slide-in-from-top-1\">\r\n              {error}\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Footer */}\r\n      <p className=\"mt-6 text-xs text-muted-foreground relative z-10\">\r\n        Tabu Online — Arkadaşlarınla eğlenceli vakit geçir!\r\n      </p>\r\n\r\n      {/* Announcements Modal */}\r\n      <AnnouncementsModal\r\n        isOpen={showAnnouncements}\r\n        onClose={() => setShowAnnouncements(false)}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\register\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\room\\[code]\\_components\\active-game.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\room\\[code]\\_components\\game-over-screen.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\room\\[code]\\_components\\transition-screen.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\room\\[code]\\_components\\username-prompt.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\room\\[code]\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\room\\[code]\\page.tsx","messages":[{"ruleId":null,"message":"Unused eslint-disable directive (no problems were reported from 'react-hooks/exhaustive-deps').","line":122,"column":5,"severity":1,"nodeType":null,"fix":{"range":[4714,4769],"text":" "}},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'session?.user?.name'. Either include it or remove the dependency array.","line":235,"column":8,"nodeType":"ArrayExpression","endLine":235,"endColumn":46,"suggestions":[{"desc":"Update the dependencies array to be: [roomCode, router, session?.user?.name, showUsernamePrompt]","fix":{"range":[8609,8647],"text":"[roomCode, router, session?.user?.name, showUsernamePrompt]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":1,"source":"\"use client\";\r\n\r\nimport { useState, useEffect, useCallback, useRef, useTransition } from \"react\";\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport { io, Socket } from \"socket.io-client\";\r\nimport { Sidebar } from \"@/components/game/sidebar\";\r\nimport { Lobby } from \"@/components/game/lobby\";\r\nimport { RulesModal } from \"@/components/game/rules-modal\";\r\nimport { AnnouncementsModal } from \"@/components/game/announcements-modal\";\r\nimport { Moon, Sun, Megaphone, Book, Menu } from \"lucide-react\";\r\nimport { useTheme } from \"next-themes\";\r\nimport { useSession } from \"next-auth/react\";\r\nimport { GameView } from \"@/types/game\";\r\nimport type {\r\n    Player,\r\n    GameState,\r\n    CardData,\r\n    RoomData,\r\n    TransitionData,\r\n    TurnInfo,\r\n    GameOverData,\r\n    CategoryItem,\r\n} from \"@/types/game\";\r\n\r\n// ─── Sub-components ────────────────────────────────────────────────\r\nimport { TransitionScreen } from \"./_components/transition-screen\";\r\nimport { ActiveGame } from \"./_components/active-game\";\r\nimport { GameOverScreen } from \"./_components/game-over-screen\";\r\nimport { UsernamePrompt } from \"./_components/username-prompt\";\r\n\r\nexport default function RoomPage() {\r\n    const params = useParams();\r\n    const router = useRouter();\r\n    const { theme, setTheme } = useTheme();\r\n    const [mounted, setMounted] = useState(false);\r\n    const [, startTransition] = useTransition();\r\n    const roomCode = params.code as string;\r\n\r\n    // Socket and Auth Identity\r\n    const { data: session } = useSession();\r\n    const myPlayerId = session?.user?.id || \"\";\r\n\r\n    const socketRef = useRef<Socket | null>(null);\r\n    const [isConnected, setIsConnected] = useState(false);\r\n    const [socketId, setSocketId] = useState(\"\");\r\n\r\n    // Room state\r\n    const [view, setView] = useState<GameView>(GameView.LOBBY);\r\n    const [players, setPlayers] = useState<Player[]>([]);\r\n    const [creatorId, setCreatorId] = useState(\"\");\r\n    const [creatorPlayerId, setCreatorPlayerId] = useState(\"\");\r\n\r\n    // Settings\r\n    const [settings, setSettings] = useState({\r\n        sure: 60,\r\n        mod: \"tur\" as \"tur\" | \"skor\",\r\n        deger: 2,\r\n    });\r\n    const [selectedCategories, setSelectedCategories] = useState<number[]>([]);\r\n    const [selectedDifficulties, setSelectedDifficulties] = useState<number[]>([]);\r\n    const [categories, setCategories] = useState<CategoryItem[]>([]);\r\n\r\n    // Game state\r\n    const [gameState, setGameState] = useState<GameState | null>(null);\r\n    const [card, setCard] = useState<CardData | null>(null);\r\n    const [myRole, setMyRole] = useState(\"Tahminci\");\r\n    const [narratorName, setNarratorName] = useState(\"\");\r\n    const [inspectorName, setInspectorName] = useState(\"\");\r\n\r\n    // Transition\r\n    const [transition, setTransition] = useState<TransitionData | null>(null);\r\n\r\n    // Game over\r\n    const [gameOverData, setGameOverData] = useState<GameOverData | null>(null);\r\n\r\n    // Sidebar\r\n    const [sidebarAOpen, setSidebarAOpen] = useState(true);\r\n    const [sidebarBOpen, setSidebarBOpen] = useState(true);\r\n    const [isMobile, setIsMobile] = useState(false);\r\n\r\n    // Modals\r\n    const [showRules, setShowRules] = useState(false);\r\n    const [showAnnouncements, setShowAnnouncements] = useState(false);\r\n    const [showUsernamePrompt, setShowUsernamePrompt] = useState(false);\r\n\r\n    // Initial check for username - prioritize session name if present\r\n    useEffect(() => {\r\n        setMounted(true);\r\n        const sessionName = session?.user?.name;\r\n        const localName = localStorage.getItem(\"tabu_username\");\r\n\r\n        // If they have a NextAuth session name but no local storage, sync the local storage instantly\r\n        if (sessionName && !localName) {\r\n            localStorage.setItem(\"tabu_username\", sessionName);\r\n            setShowUsernamePrompt(false);\r\n        } else if (!sessionName && !localName) {\r\n            setShowUsernamePrompt(true);\r\n        }\r\n    }, [session?.user?.name]);\r\n\r\n    // Responsive check\r\n    useEffect(() => {\r\n        const handleResize = () => {\r\n            const mobile = window.innerWidth < 1024;\r\n            startTransition(() => {\r\n                setIsMobile(mobile);\r\n                if (mobile) {\r\n                    setSidebarAOpen(false);\r\n                    setSidebarBOpen(false);\r\n                } else {\r\n                    setSidebarAOpen(true);\r\n                    setSidebarBOpen(true);\r\n                }\r\n            });\r\n        };\r\n        handleResize();\r\n        window.addEventListener(\"resize\", handleResize, { passive: true });\r\n        return () => window.removeEventListener(\"resize\", handleResize);\r\n    }, []);\r\n\r\n    // Connect socket (only when username is set)\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    useEffect(() => {\r\n        if (showUsernamePrompt) return;\r\n\r\n        // Give priority to session name, then local storage\r\n        const username = session?.user?.name || localStorage.getItem(\"tabu_username\") || \"Oyuncu\";\r\n\r\n        const socket = io({\r\n            path: \"/api/socketio\",\r\n            transports: [\"websocket\", \"polling\"],\r\n        });\r\n\r\n        socketRef.current = socket;\r\n\r\n        socket.on(\"connect\", () => {\r\n            setIsConnected(true);\r\n            if (socket.id) setSocketId(socket.id);\r\n            socket.emit(\"odaİsteği\", {\r\n                kullaniciAdi: username,\r\n                odaKodu: roomCode,\r\n            });\r\n        });\r\n\r\n        socket.on(\"disconnect\", () => setIsConnected(false));\r\n\r\n        // Note: The server no longer emits 'kimlikAta' because identity\r\n        // is now securely managed via the HttpOnly NextAuth session token.\r\n        // myPlayerId will be determined through server communication when needed or via session payload.\r\n\r\n        socket.on(\"lobiGuncelle\", (data: RoomData & { creatorPlayerId?: string }) => {\r\n            setPlayers(data.oyuncular);\r\n            setCreatorId(data.creatorId);\r\n            setCreatorPlayerId(data.creatorPlayerId || \"\");\r\n            setSettings(data.ayarlar);\r\n            if (data.seciliKategoriler) setSelectedCategories(data.seciliKategoriler);\r\n            if (data.seciliZorluklar) setSelectedDifficulties(data.seciliZorluklar);\r\n        });\r\n\r\n        socket.on(\"kategoriListesiGonder\", (cats: CategoryItem[]) => {\r\n            setCategories(cats);\r\n        });\r\n\r\n        socket.on(\"kategoriAyarlariGuncellendi\", (data: {\r\n            seciliKategoriler: number[];\r\n            seciliZorluklar: number[];\r\n        }) => {\r\n            setSelectedCategories(data.seciliKategoriler);\r\n            setSelectedDifficulties(data.seciliZorluklar);\r\n        });\r\n\r\n        socket.on(\"oyunBasladi\", () => {\r\n            setView(GameView.TRANSITION);\r\n        });\r\n\r\n        socket.on(\"turGecisiBaslat\", (data: TransitionData) => {\r\n            setView(GameView.TRANSITION);\r\n            setTransition(data);\r\n        });\r\n\r\n        socket.on(\"turGecisDurumGuncelle\", (data: { oyunDurduruldu: boolean; kalanSure: number }) => {\r\n            setTransition((prev) =>\r\n                prev ? { ...prev, kalanSure: data.kalanSure } : null\r\n            );\r\n        });\r\n\r\n        socket.on(\"yeniTurBilgisi\", (data: TurnInfo) => {\r\n            setMyRole(data.rol);\r\n            setCard(data.kart);\r\n            setNarratorName(data.anlaticiAd);\r\n            setInspectorName(data.gozetmenAd);\r\n            setView(GameView.PLAYING);\r\n        });\r\n\r\n        socket.on(\"oyunDurumuGuncelle\", (data: GameState) => {\r\n            setGameState(data);\r\n            if (data.creatorId) setCreatorId(data.creatorId);\r\n        });\r\n\r\n        socket.on(\"kartGuncelle\", (newCard: CardData | null) => {\r\n            setCard(newCard);\r\n        });\r\n\r\n        socket.on(\"oyunBitti\", (data: GameOverData) => {\r\n            setView(GameView.GAME_OVER);\r\n            setGameOverData(data);\r\n        });\r\n\r\n        socket.on(\"altinSkorBasladi\", () => {\r\n            // Game state update handles the golden score UI\r\n        });\r\n\r\n        socket.on(\"lobiyeDon\", () => {\r\n            setView(GameView.LOBBY);\r\n            setGameState(null);\r\n            setCard(null);\r\n            setGameOverData(null);\r\n            setTransition(null);\r\n        });\r\n\r\n        socket.on(\"odadanAtildin\", () => {\r\n            router.push(\"/\");\r\n        });\r\n\r\n        socket.on(\"hata\", (msg: string) => {\r\n            console.error(\"Socket error:\", msg);\r\n            if (msg.includes(\"bulunamadı\") || msg.includes(\"found\")) {\r\n                router.push(\"/\");\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            socket.disconnect();\r\n        };\r\n    }, [roomCode, router, showUsernamePrompt]);\r\n\r\n    // ─── Actions ─────────────────────────────────────────────────\r\n\r\n    const emit = useCallback(\r\n        (event: string, data?: unknown) => {\r\n            socketRef.current?.emit(event, data);\r\n        },\r\n        []\r\n    );\r\n\r\n    const isHost = myPlayerId && creatorPlayerId ? myPlayerId === creatorPlayerId : false;\r\n\r\n    const handleStartGame = useCallback(() => {\r\n        emit(\"oyunBaslatİsteği\", {\r\n            seciliKategoriler: selectedCategories,\r\n            seciliZorluklar: selectedDifficulties,\r\n            ayarlar: settings,\r\n        });\r\n    }, [emit, selectedCategories, selectedDifficulties, settings]);\r\n\r\n    const handleWordAction = useCallback(\r\n        (action: \"dogru\" | \"tabu\" | \"pas\") => {\r\n            emit(\"oyunVerisi\", { eylem: action });\r\n        },\r\n        [emit]\r\n    );\r\n\r\n    // ─── Render ──────────────────────────────────────────────────\r\n\r\n    const renderGameContent = () => {\r\n        if (view === GameView.TRANSITION && transition) {\r\n            return <TransitionScreen transition={transition} />;\r\n        }\r\n\r\n        if (view === GameView.PLAYING) {\r\n            return (\r\n                <ActiveGame\r\n                    gameState={gameState}\r\n                    card={card}\r\n                    myRole={myRole}\r\n                    narratorName={narratorName}\r\n                    inspectorName={inspectorName}\r\n                    isHost={isHost as boolean}\r\n                    settings={settings}\r\n                    onWordAction={handleWordAction}\r\n                    onPauseResume={() => emit(\"oyunKontrolİsteği\")}\r\n                    onResetGame={() => emit(\"oyunuSifirlaİsteği\")}\r\n                />\r\n            );\r\n        }\r\n\r\n        if (view === GameView.GAME_OVER && gameOverData) {\r\n            return (\r\n                <GameOverScreen\r\n                    gameOverData={gameOverData}\r\n                    onReturnToLobby={() => emit(\"oyunuSifirlaİsteği\")}\r\n                />\r\n            );\r\n        }\r\n\r\n        // Lobby (default)\r\n        return (\r\n            <Lobby\r\n                roomCode={roomCode}\r\n                players={players}\r\n                settings={settings}\r\n                selectedCategories={selectedCategories}\r\n                selectedDifficulties={selectedDifficulties}\r\n                categories={categories}\r\n                creatorId={creatorId}\r\n                currentSocketId={socketId}\r\n                isHost={isHost as boolean}\r\n                onUpdateSettings={setSettings}\r\n                onInitialSet={(cats, diffs) => {\r\n                    setSelectedCategories(cats);\r\n                    setSelectedDifficulties(diffs);\r\n                    emit(\"kategoriAyarlariGuncelle\", {\r\n                        seciliKategoriler: cats,\r\n                        seciliZorluklar: diffs,\r\n                    });\r\n                }}\r\n                onUpdateCategories={(cats) => {\r\n                    setSelectedCategories(cats);\r\n                    emit(\"kategoriAyarlariGuncelle\", {\r\n                        seciliKategoriler: cats,\r\n                        seciliZorluklar: selectedDifficulties.length > 0 ? selectedDifficulties : [1, 2, 3],\r\n                    });\r\n                }}\r\n                onUpdateDifficulties={(diffs) => {\r\n                    setSelectedDifficulties(diffs);\r\n                    emit(\"kategoriAyarlariGuncelle\", {\r\n                        seciliKategoriler: selectedCategories.length > 0 ? selectedCategories : categories.map(c => c.id),\r\n                        seciliZorluklar: diffs,\r\n                    });\r\n                }}\r\n                onShuffleTeams={() => emit(\"takimlariKaristir\")}\r\n                onStartGame={handleStartGame}\r\n                onKickPlayer={(playerId) =>\r\n                    emit(\"oyuncuyuAt\", { targetPlayerId: playerId })\r\n                }\r\n                onTransferHost={(playerId) =>\r\n                    emit(\"yoneticiligiDevret\", { targetPlayerId: playerId })\r\n                }\r\n            />\r\n        );\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {/* Username Prompt */}\r\n            {showUsernamePrompt && (\r\n                <UsernamePrompt\r\n                    onConfirm={(username) => {\r\n                        localStorage.setItem(\"tabu_username\", username);\r\n                        setShowUsernamePrompt(false);\r\n                    }}\r\n                />\r\n            )}\r\n\r\n            <div className=\"flex h-screen w-screen overflow-hidden bg-gray-50 dark:bg-slate-900 transition-colors duration-300\">\r\n                {/* Mobile Menu Toggles */}\r\n                {isMobile && (\r\n                    <div className=\"absolute top-4 left-4 z-50 flex gap-2\">\r\n                        <button\r\n                            onClick={() => setSidebarAOpen((prev) => !prev)}\r\n                            className=\"bg-red-600 text-white p-2.5 rounded-lg shadow-md\"\r\n                        >\r\n                            <Menu size={20} />\r\n                        </button>\r\n                        <button\r\n                            onClick={() => setSidebarBOpen((prev) => !prev)}\r\n                            className=\"bg-blue-600 text-white p-2.5 rounded-lg shadow-md\"\r\n                        >\r\n                            <Menu size={20} />\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Team A Sidebar (Red) */}\r\n                <Sidebar\r\n                    team=\"A\"\r\n                    players={players}\r\n                    creatorId={creatorId}\r\n                    creatorPlayerId={creatorPlayerId}\r\n                    currentSocketId={socketId}\r\n                    currentPlayerId={myPlayerId}\r\n                    isOpen={sidebarAOpen}\r\n                    onToggle={() => setSidebarAOpen((prev) => !prev)}\r\n                    isMobile={isMobile}\r\n                    onSwitchTeam={\r\n                        view === GameView.LOBBY\r\n                            ? () => emit(\"takimDegistirİsteği\")\r\n                            : undefined\r\n                    }\r\n                />\r\n\r\n                {/* Main Content Area */}\r\n                <main className=\"flex-1 flex flex-col relative overflow-hidden min-w-0\">\r\n                    {/* Header Buttons */}\r\n                    <div className=\"absolute top-4 right-6 z-30 flex gap-2\">\r\n                        <button\r\n                            onClick={() => setShowAnnouncements(true)}\r\n                            className=\"p-2.5 rounded-xl bg-white dark:bg-slate-800 shadow-lg border border-gray-100 dark:border-slate-700 text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:scale-105 transition-all\"\r\n                        >\r\n                            <Megaphone size={20} />\r\n                        </button>\r\n                        <button\r\n                            onClick={() => setShowRules(true)}\r\n                            className=\"p-2.5 rounded-xl bg-white dark:bg-slate-800 shadow-lg border border-gray-100 dark:border-slate-700 text-gray-600 dark:text-gray-300 hover:text-purple-600 dark:hover:text-purple-400 hover:scale-105 transition-all\"\r\n                        >\r\n                            <Book size={20} />\r\n                        </button>\r\n                        {mounted && (\r\n                            <button\r\n                                onClick={() =>\r\n                                    setTheme(theme === \"dark\" ? \"light\" : \"dark\")\r\n                                }\r\n                                className=\"p-2.5 rounded-xl bg-white dark:bg-slate-800 shadow-lg border border-gray-100 dark:border-slate-700 text-gray-600 dark:text-gray-300 hover:text-amber-500 dark:hover:text-amber-400 hover:scale-105 transition-all\"\r\n                            >\r\n                                {theme === \"dark\" ? (\r\n                                    <Sun size={20} />\r\n                                ) : (\r\n                                    <Moon size={20} />\r\n                                )}\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Connection indicator */}\r\n                    {!isConnected && (\r\n                        <div className=\"absolute top-4 left-4 z-50 flex items-center gap-2 px-3 py-1.5 rounded-full bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-xs font-medium border border-red-200 dark:border-red-800/30\">\r\n                            <div className=\"w-2 h-2 rounded-full bg-red-500 animate-pulse\" />\r\n                            Bağlantı kesildi\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Game Area */}\r\n                    {view === GameView.LOBBY ? (\r\n                        <div className=\"h-full overflow-y-auto flex items-center justify-center\">\r\n                            {renderGameContent()}\r\n                        </div>\r\n                    ) : (\r\n                        renderGameContent()\r\n                    )}\r\n                </main>\r\n\r\n                {/* Team B Sidebar (Blue) */}\r\n                <Sidebar\r\n                    team=\"B\"\r\n                    players={players}\r\n                    creatorId={creatorId}\r\n                    creatorPlayerId={creatorPlayerId}\r\n                    currentSocketId={socketId}\r\n                    currentPlayerId={myPlayerId}\r\n                    isOpen={sidebarBOpen}\r\n                    onToggle={() => setSidebarBOpen((prev) => !prev)}\r\n                    isMobile={isMobile}\r\n                    onSwitchTeam={\r\n                        view === GameView.LOBBY\r\n                            ? () => emit(\"takimDegistirİsteği\")\r\n                            : undefined\r\n                    }\r\n                />\r\n\r\n                {/* Rules Modal */}\r\n                <RulesModal\r\n                    isOpen={showRules}\r\n                    onClose={() => setShowRules(false)}\r\n                />\r\n\r\n                {/* Announcements Modal */}\r\n                <AnnouncementsModal\r\n                    isOpen={showAnnouncements}\r\n                    onClose={() => setShowAnnouncements(false)}\r\n                />\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\app\\test\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\admin\\admin-sidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\admin\\rich-text-editor.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\game\\announcements-modal.tsx","messages":[{"ruleId":"react-compiler/react-compiler","message":"Definition for rule 'react-compiler/react-compiler' was not found.","line":47,"column":13,"endLine":47,"endColumn":70,"severity":2,"nodeType":null},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\game\\announcements-modal.tsx:48:13\n  46 |         if (isOpen) {\n  47 |             // eslint-disable-next-line react-compiler/react-compiler\n> 48 |             setLoading(true);\n     |             ^^^^^^^^^^ Avoid calling setState() directly within an effect\n  49 |             fetch(\"/api/announcements/visible\")\n  50 |                 .then((res) => res.json())\n  51 |                 .then((data) => {","line":48,"column":13,"nodeType":null,"endLine":48,"endColumn":23}],"suppressedMessages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":222,"column":49,"nodeType":"JSXOpeningElement","endLine":226,"endColumn":51,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport {\r\n    Megaphone,\r\n    ChevronDown,\r\n    X,\r\n    Rocket,\r\n    Star,\r\n    Clock,\r\n    Tag,\r\n    Pin,\r\n} from \"lucide-react\";\r\nimport DOMPurify from \"isomorphic-dompurify\";\r\n\r\ninterface Announcement {\r\n    id: number;\r\n    title: string;\r\n    content: string;\r\n    type: string;\r\n    created_at: string;\r\n    isPinned: boolean;\r\n    version?: string;\r\n    tags?: string;\r\n    mediaUrl?: string;\r\n    mediaType?: \"image\" | \"youtube\" | null;\r\n}\r\n\r\ninterface AnnouncementsModalProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n}\r\n\r\nexport function AnnouncementsModal({\r\n    isOpen,\r\n    onClose,\r\n}: AnnouncementsModalProps) {\r\n    const [announcements, setAnnouncements] = useState<Announcement[]>([]);\r\n    const [expandedId, setExpandedId] = useState<number | null>(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [activeTab, setActiveTab] = useState<\"updates\" | \"announcements\">(\r\n        \"updates\"\r\n    );\r\n\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            // eslint-disable-next-line react-compiler/react-compiler\r\n            setLoading(true);\r\n            fetch(\"/api/announcements/visible\")\r\n                .then((res) => res.json())\r\n                .then((data) => {\r\n                    setAnnouncements(data);\r\n                    setLoading(false);\r\n                })\r\n                .catch(() => {\r\n                    setLoading(false);\r\n                });\r\n        }\r\n    }, [isOpen]);\r\n\r\n    if (!isOpen) return null;\r\n\r\n    const updates = announcements.filter((a) => a.type === \"guncelleme\");\r\n    const notices = announcements.filter((a) => a.type === \"duyuru\");\r\n    const activeItems = activeTab === \"updates\" ? updates : notices;\r\n\r\n    const renderList = (items: Announcement[]) => {\r\n        if (loading) {\r\n            return (\r\n                <div className=\"flex items-center justify-center py-12\">\r\n                    <div className=\"h-8 w-8 animate-spin rounded-full border-2 border-blue-500 border-t-transparent\" />\r\n                </div>\r\n            );\r\n        }\r\n\r\n        if (items.length === 0) {\r\n            return (\r\n                <div className=\"flex flex-col items-center justify-center py-16 sm:py-20 text-gray-400 dark:text-slate-600\">\r\n                    {activeTab === \"updates\" ? (\r\n                        <Rocket\r\n                            size={36}\r\n                            strokeWidth={1}\r\n                            className=\"mb-3 sm:mb-4 opacity-50\"\r\n                        />\r\n                    ) : (\r\n                        <Megaphone\r\n                            size={36}\r\n                            strokeWidth={1}\r\n                            className=\"mb-3 sm:mb-4 opacity-50\"\r\n                        />\r\n                    )}\r\n                    <span className=\"text-xs sm:text-sm font-medium\">\r\n                        Bu kategoride henüz içerik yok.\r\n                    </span>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div className=\"space-y-3 sm:space-y-4\">\r\n                {items.map((item) => {\r\n                    const isExpanded = expandedId === item.id;\r\n                    const tags = item.tags\r\n                        ? item.tags.split(\",\").map((t) => t.trim())\r\n                        : [];\r\n                    const isNew =\r\n                        new Date(item.created_at) >\r\n                        new Date(Date.now() - 7 * 24 * 60 * 60 * 1000);\r\n\r\n                    return (\r\n                        <div\r\n                            key={item.id}\r\n                            onClick={() =>\r\n                                setExpandedId(isExpanded ? null : item.id)\r\n                            }\r\n                            className={`group relative rounded-xl sm:rounded-2xl border transition-all cursor-pointer overflow-hidden ${isExpanded\r\n                                ? \"bg-white dark:bg-slate-800 border-blue-200 dark:border-blue-900/50 shadow-lg ring-1 ring-blue-500/10\"\r\n                                : \"bg-white dark:bg-slate-800 border-gray-200 dark:border-slate-700 hover:border-blue-300 dark:hover:border-slate-600 hover:shadow-md\"\r\n                                } ${item.isPinned ? \"ring-2 ring-amber-400/30\" : \"\"}`}\r\n                        >\r\n                            <div className=\"p-3 sm:p-5\">\r\n                                {/* Meta Header Row */}\r\n                                <div className=\"flex flex-wrap items-center justify-between gap-y-1.5 sm:gap-y-2 mb-2 sm:mb-3\">\r\n                                    {/* Left: Badges & Tags */}\r\n                                    <div className=\"flex items-center gap-1.5 sm:gap-2 flex-wrap\">\r\n                                        {item.isPinned && (\r\n                                            <span className=\"flex items-center gap-0.5 bg-amber-400 text-white text-[8px] sm:text-[10px] font-black px-1.5 sm:px-2 py-0.5 rounded shadow-sm\">\r\n                                                <Pin\r\n                                                    size={8}\r\n                                                    fill=\"currentColor\"\r\n                                                />{\" \"}\r\n                                                SABİT\r\n                                            </span>\r\n                                        )}\r\n                                        {isNew && (\r\n                                            <span className=\"flex items-center gap-0.5 bg-blue-500 text-white text-[8px] sm:text-[10px] font-black px-1.5 sm:px-2 py-0.5 rounded shadow-sm\">\r\n                                                <Star\r\n                                                    size={8}\r\n                                                    fill=\"currentColor\"\r\n                                                />{\" \"}\r\n                                                YENİ\r\n                                            </span>\r\n                                        )}\r\n                                        {tags.map((tag) => (\r\n                                            <span\r\n                                                key={tag}\r\n                                                className=\"flex items-center gap-0.5 text-[8px] sm:text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wide bg-gray-100 dark:bg-slate-700/50 px-1 sm:px-1.5 py-0.5 rounded\"\r\n                                            >\r\n                                                <Tag size={8} /> {tag}\r\n                                            </span>\r\n                                        ))}\r\n                                    </div>\r\n\r\n                                    {/* Right: Date & Version */}\r\n                                    <div className=\"flex items-center gap-2 sm:gap-3 text-[10px] sm:text-xs font-medium text-gray-400 dark:text-gray-500\">\r\n                                        <div className=\"flex items-center gap-0.5 sm:gap-1\">\r\n                                            <Clock size={10} />\r\n                                            {new Date(\r\n                                                item.created_at\r\n                                            ).toLocaleDateString(\"tr-TR\", {\r\n                                                day: \"numeric\",\r\n                                                month: \"short\",\r\n                                            })}\r\n                                        </div>\r\n                                        {item.version && (\r\n                                            <div className=\"px-1 sm:px-1.5 py-0.5 rounded bg-gray-100 dark:bg-slate-700 text-gray-500 dark:text-gray-400 font-mono text-[8px] sm:text-[10px]\">\r\n                                                {item.version}\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Title & Chevron */}\r\n                                <div className=\"flex justify-between items-start gap-2 sm:gap-4\">\r\n                                    <h3\r\n                                        className={`text-sm sm:text-lg font-bold leading-tight transition-colors ${isExpanded\r\n                                            ? \"text-blue-600 dark:text-blue-400\"\r\n                                            : \"text-slate-800 dark:text-white\"\r\n                                            }`}\r\n                                    >\r\n                                        {item.title}\r\n                                    </h3>\r\n                                    <div\r\n                                        className={`p-1 rounded-full bg-gray-50 dark:bg-slate-700/50 text-gray-400 transition-transform duration-300 ${isExpanded\r\n                                            ? \"rotate-180 bg-blue-50 text-blue-500 dark:bg-blue-900/30\"\r\n                                            : \"group-hover:bg-gray-100 dark:group-hover:bg-slate-700\"\r\n                                            }`}\r\n                                    >\r\n                                        <ChevronDown size={16} />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Expanded Content */}\r\n                            <div\r\n                                className={`transition-all duration-300 ease-in-out ${isExpanded\r\n                                    ? \"max-h-[600px] sm:max-h-[800px] opacity-100\"\r\n                                    : \"max-h-0 opacity-0\"\r\n                                    }`}\r\n                            >\r\n                                <div className=\"px-3 sm:px-5 pb-3 sm:pb-5 pt-0\">\r\n                                    <div className=\"h-px w-full bg-gray-100 dark:bg-slate-700 mb-3 sm:mb-4\"></div>\r\n\r\n                                    {item.mediaUrl && (\r\n                                        <div className=\"mb-3 sm:mb-4 rounded-xl overflow-hidden shadow-md bg-black ring-1 ring-black/5\">\r\n                                            {item.mediaType === \"youtube\" ? (\r\n                                                <div className=\"relative pt-[56.25%]\">\r\n                                                    <iframe\r\n                                                        className=\"absolute inset-0 w-full h-full\"\r\n                                                        src={item.mediaUrl.replace(\r\n                                                            \"watch?v=\",\r\n                                                            \"embed/\"\r\n                                                        )}\r\n                                                        title=\"Content Video\"\r\n                                                        frameBorder=\"0\"\r\n                                                        allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                                                        allowFullScreen\r\n                                                    ></iframe>\r\n                                                </div>\r\n                                            ) : (\r\n                                                // eslint-disable-next-line @next/next/no-img-element\r\n                                                <img\r\n                                                    src={item.mediaUrl}\r\n                                                    alt={item.title}\r\n                                                    className=\"w-full h-auto max-h-[200px] sm:max-h-[300px] object-cover\"\r\n                                                />\r\n                                            )}\r\n                                        </div>\r\n                                    )}\r\n                                    <div\r\n                                        className=\"prose prose-xs sm:prose-sm dark:prose-invert max-w-none text-slate-600 dark:text-slate-300 leading-relaxed\"\r\n                                        dangerouslySetInnerHTML={{\r\n                                            __html: typeof window !== 'undefined' ? DOMPurify.sanitize(item.content) : item.content,\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-[60] flex items-center justify-center p-2 sm:p-4 bg-slate-900/80 backdrop-blur-md animate-fade-in\">\r\n            <div className=\"bg-white dark:bg-slate-900 w-full max-w-2xl sm:max-w-3xl rounded-xl sm:rounded-[2rem] shadow-2xl overflow-hidden border border-gray-100 dark:border-slate-800 flex flex-col h-[85vh] sm:h-[85vh]\">\r\n                {/* Header */}\r\n                <div className=\"flex items-center justify-between p-3 sm:p-6 pb-3 sm:pb-4 bg-white dark:bg-slate-900 z-10 border-b border-gray-100 dark:border-slate-800/50\">\r\n                    <div>\r\n                        <h2 className=\"text-base sm:text-xl font-black text-slate-800 dark:text-white tracking-tight flex items-center gap-1.5 sm:gap-2\">\r\n                            {activeTab === \"updates\" ? (\r\n                                <Rocket className=\"text-blue-500\" size={18} />\r\n                            ) : (\r\n                                <Megaphone\r\n                                    className=\"text-purple-500\"\r\n                                    size={18}\r\n                                />\r\n                            )}\r\n                            {activeTab === \"updates\"\r\n                                ? \"Yenilikler\"\r\n                                : \"Duyurular\"}\r\n                        </h2>\r\n                        <p className=\"text-xs sm:text-sm text-gray-500 dark:text-gray-400 mt-0.5 sm:mt-1\">\r\n                            Son gelişmeler ve haberler.\r\n                        </p>\r\n                    </div>\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"p-1.5 sm:p-2 hover:bg-gray-100 dark:hover:bg-slate-800 rounded-full text-gray-400 transition-colors\"\r\n                    >\r\n                        <X size={20} />\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Tabs */}\r\n                <div className=\"px-3 sm:px-6 py-2 sm:py-4 flex gap-2 sm:gap-3 bg-gray-50/50 dark:bg-slate-900/50\">\r\n                    <button\r\n                        onClick={() => {\r\n                            setActiveTab(\"updates\");\r\n                            setExpandedId(null);\r\n                        }}\r\n                        className={`flex-1 relative py-2 sm:py-2.5 rounded-xl text-xs sm:text-sm font-bold transition-all ${activeTab === \"updates\"\r\n                            ? \"bg-blue-600 text-white shadow-md shadow-blue-500/20\"\r\n                            : \"bg-white dark:bg-slate-800 text-gray-500 dark:text-gray-400 border border-gray-200 dark:border-slate-700 hover:border-gray-300 dark:hover:border-slate-600\"\r\n                            }`}\r\n                    >\r\n                        Güncellemeler\r\n                    </button>\r\n                    <button\r\n                        onClick={() => {\r\n                            setActiveTab(\"announcements\");\r\n                            setExpandedId(null);\r\n                        }}\r\n                        className={`flex-1 relative py-2 sm:py-2.5 rounded-xl text-xs sm:text-sm font-bold transition-all ${activeTab === \"announcements\"\r\n                            ? \"bg-purple-600 text-white shadow-md shadow-purple-500/20\"\r\n                            : \"bg-white dark:bg-slate-800 text-gray-500 dark:text-gray-400 border border-gray-200 dark:border-slate-700 hover:border-gray-300 dark:hover:border-slate-600\"\r\n                            }`}\r\n                    >\r\n                        Duyurular\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Content */}\r\n                <div className=\"flex-1 overflow-y-auto p-2 sm:p-4 sm:p-6 custom-scrollbar bg-gray-50/30 dark:bg-slate-900\">\r\n                    {renderList(activeItems)}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\game\\game-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\game\\lobby.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Button' is defined but never used.","line":4,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":16,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Button"},"fix":{"range":[72,122],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'creatorId' is defined but never used.","line":63,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":63,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'currentSocketId' is defined but never used.","line":64,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":64,"endColumn":20},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'onKickPlayer' is defined but never used.","line":72,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":72,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'onTransferHost' is defined but never used.","line":73,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":73,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'teamAPlayers' is assigned a value but never used.","line":130,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":130,"endColumn":25},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'teamBPlayers' is assigned a value but never used.","line":130,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":130,"endColumn":39}],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'flatCategories', 'onInitialSet', 'onUpdateCategories', 'onUpdateDifficulties', 'selectedCategories.length', and 'selectedDifficulties.length'. Either include them or remove the dependency array. If 'onInitialSet' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":127,"column":8,"nodeType":"ArrayExpression","endLine":127,"endColumn":50,"suggestions":[{"desc":"Update the dependencies array to be: [categories.length, flatCategories, flatCategories.length, onInitialSet, onUpdateCategories, onUpdateDifficulties, selectedCategories.length, selectedDifficulties.length]","fix":{"range":[4109,4151],"text":"[categories.length, flatCategories, flatCategories.length, onInitialSet, onUpdateCategories, onUpdateDifficulties, selectedCategories.length, selectedDifficulties.length]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect, useMemo } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n    Settings,\r\n    Trophy,\r\n    Hash,\r\n    Clock,\r\n    Link2,\r\n    Copy,\r\n    Check,\r\n    LayoutGrid,\r\n    X,\r\n    Shuffle,\r\n    Users,\r\n    EyeOff,\r\n    Eye,\r\n    ChevronDown,\r\n    Square,\r\n    CheckSquare,\r\n    Play,\r\n} from \"lucide-react\";\r\nimport type { Player, CategoryItem } from \"@/types/game\";\r\n\r\ninterface LobbyProps {\r\n    roomCode: string;\r\n    players: Player[];\r\n    settings: { sure: number; mod: \"tur\" | \"skor\"; deger: number };\r\n    selectedCategories: number[];\r\n    selectedDifficulties: number[];\r\n    categories: CategoryItem[];\r\n    creatorId: string;\r\n    currentSocketId: string;\r\n    isHost: boolean;\r\n    onUpdateSettings: (settings: {\r\n        sure: number;\r\n        mod: \"tur\" | \"skor\";\r\n        deger: number;\r\n    }) => void;\r\n    onUpdateCategories: (ids: number[]) => void;\r\n    onUpdateDifficulties: (ids: number[]) => void;\r\n    onInitialSet?: (categories: number[], difficulties: number[]) => void;\r\n    onShuffleTeams: () => void;\r\n    onStartGame: () => void;\r\n    onKickPlayer: (playerId: string) => void;\r\n    onTransferHost: (playerId: string) => void;\r\n}\r\n\r\nconst difficultyLabels: Record<number, string> = {\r\n    1: \"Kolay\",\r\n    2: \"Orta\",\r\n    3: \"Zor\",\r\n};\r\n\r\nexport function Lobby({\r\n    roomCode,\r\n    players,\r\n    settings,\r\n    selectedCategories,\r\n    selectedDifficulties,\r\n    categories,\r\n    creatorId,\r\n    currentSocketId,\r\n    isHost,\r\n    onUpdateSettings,\r\n    onUpdateCategories,\r\n    onUpdateDifficulties,\r\n    onInitialSet,\r\n    onShuffleTeams,\r\n    onStartGame,\r\n    onKickPlayer,\r\n    onTransferHost,\r\n}: LobbyProps) {\r\n    const [copied, setCopied] = useState(false);\r\n    const [hideUrl, setHideUrl] = useState(false);\r\n    const [showCategoryModal, setShowCategoryModal] = useState(false);\r\n    const [expandedCategories, setExpandedCategories] = useState<Set<string>>(new Set());\r\n    const [tempSelectedCategories, setTempSelectedCategories] = useState<number[]>(selectedCategories);\r\n    const [tempSelectedDifficulties, setTempSelectedDifficulties] = useState<number[]>(selectedDifficulties);\r\n    const [mounted, setMounted] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setMounted(true);\r\n    }, []);\r\n\r\n    const copyRoomLink = () => {\r\n        const link = `${window.location.origin}/room/${roomCode}`;\r\n        navigator.clipboard?.writeText(link);\r\n        setCopied(true);\r\n        setTimeout(() => setCopied(false), 2000);\r\n    };\r\n\r\n    // Flatten categories - memoize to avoid recomputation on every render\r\n    const flatCategories = useMemo(() => {\r\n        const result: CategoryItem[] = [];\r\n        if (Array.isArray(categories)) {\r\n            for (const cat of categories) {\r\n                result.push(cat);\r\n                if ((cat as { children?: CategoryItem[] }).children) {\r\n                    for (const child of (cat as { children: CategoryItem[] }).children) {\r\n                        result.push(child);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }, [categories]);\r\n\r\n    // Initialize categories and difficulties when first loaded (run once)\r\n    useEffect(() => {\r\n        // Only initialize if both are empty (first time loading)\r\n        if (categories.length > 0 && selectedCategories.length === 0 && selectedDifficulties.length === 0) {\r\n            // Select all categories by default\r\n            const allCategoryIds = flatCategories.map(c => c.id);\r\n            const allDifficulties = [1, 2, 3];\r\n            // Use onInitialSet if available to avoid race condition\r\n            if (onInitialSet) {\r\n                onInitialSet(allCategoryIds, allDifficulties);\r\n            } else if (onUpdateCategories && onUpdateDifficulties) {\r\n                // Fallback to old API\r\n                onUpdateCategories(allCategoryIds);\r\n                setTimeout(() => onUpdateDifficulties(allDifficulties), 10);\r\n            }\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [categories.length, flatCategories.length]);\r\n\r\n    // Memoize team player filters - combine into single iteration for better performance\r\n    const { teamAPlayers, teamBPlayers } = useMemo(() => {\r\n        const teamA: Player[] = [];\r\n        const teamB: Player[] = [];\r\n        for (const player of players) {\r\n            if (player.takim === \"A\") teamA.push(player);\r\n            else if (player.takim === \"B\") teamB.push(player);\r\n        }\r\n        return { teamAPlayers: teamA, teamBPlayers: teamB };\r\n    }, [players]);\r\n\r\n    // Memoize parent categories for accordion\r\n    const parentCategories = useMemo(() =>\r\n        categories.filter((c) => !(c as { parentId?: number }).parentId),\r\n        [categories]\r\n    );\r\n\r\n    const toggleCategory = (id: number) => {\r\n        setTempSelectedCategories((prev) =>\r\n            prev.includes(id) ? prev.filter((c) => c !== id) : [...prev, id]\r\n        );\r\n    };\r\n\r\n    const toggleDifficulty = (level: number) => {\r\n        setTempSelectedDifficulties((prev) => {\r\n            if (prev.includes(level)) {\r\n                if (prev.length === 1) return prev; // Don't deselect last\r\n                return prev.filter((d) => d !== level);\r\n            }\r\n            return [...prev, level];\r\n        });\r\n    };\r\n\r\n    const toggleExpand = (key: string) => {\r\n        setExpandedCategories((prev) => {\r\n            const next = new Set(prev);\r\n            if (next.has(key)) next.delete(key);\r\n            else next.add(key);\r\n            return next;\r\n        });\r\n    };\r\n\r\n    const confirmCategories = () => {\r\n        onUpdateCategories(tempSelectedCategories);\r\n        onUpdateDifficulties(tempSelectedDifficulties);\r\n        setShowCategoryModal(false);\r\n    };\r\n\r\n    const isAllSelected = flatCategories.length > 0 && flatCategories.every((c) => tempSelectedCategories.includes(c.id));\r\n\r\n    const toggleAllCategories = () => {\r\n        if (isAllSelected) {\r\n            setTempSelectedCategories([]);\r\n        } else {\r\n            setTempSelectedCategories(flatCategories.map((c) => c.id));\r\n        }\r\n    };\r\n\r\n    const getSelectedText = () => {\r\n        if (selectedCategories.length === 0) return \"Henüz kategori seçilmedi\";\r\n        if (flatCategories.length > 0 && selectedCategories.length === flatCategories.length) return \"Tüm Kategoriler\";\r\n        const first = flatCategories.find((c) => c.id === selectedCategories[0]);\r\n        if (selectedCategories.length === 1) return first?.name || \"1 kategori\";\r\n        return `${first?.name || \"?\"} +${selectedCategories.length - 1} diğer`;\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex flex-col items-center w-full max-w-xl mx-auto p-4 sm:p-6 animate-fade-in\">\r\n            {/* Logo */}\r\n            <div className=\"mb-6 sm:mb-8\">\r\n                <h1 className=\"font-black text-5xl sm:text-6xl\">\r\n                    <span className=\"text-red-500\">TA</span>\r\n                    <span className=\"text-blue-500\">BU</span>\r\n                </h1>\r\n            </div>\r\n\r\n            <div className=\"w-full bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-gray-200 dark:border-slate-700 overflow-hidden\">\r\n                {/* Header — URL Style Room Code */}\r\n                <div className=\"bg-gray-50 dark:bg-slate-900 p-6 border-b border-gray-100 dark:border-slate-700 transition-all duration-300\">\r\n                    {!hideUrl ? (\r\n                        <div className=\"animate-fade-in\">\r\n                            <label className=\"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-3 text-center\">\r\n                                Davet Bağlantısı\r\n                            </label>\r\n\r\n                            <button\r\n                                onClick={copyRoomLink}\r\n                                className=\"w-full bg-slate-800 text-left rounded-lg p-3.5 flex items-center justify-between group hover:bg-slate-700 transition-colors shadow-inner ring-1 ring-white/10 mb-3\"\r\n                            >\r\n                                <div className=\"flex items-center gap-2 overflow-hidden font-mono text-sm sm:text-base w-full\">\r\n                                    <Link2\r\n                                        size={16}\r\n                                        className=\"text-blue-400 flex-shrink-0\"\r\n                                    />\r\n                                    <div className=\"flex items-center truncate\">\r\n                                        <span className=\"text-slate-400\">\r\n                                            {mounted ? `${window.location.origin}/room/` : \"/room/\"}\r\n                                        </span>\r\n                                        <span className=\"text-white font-bold tracking-wider\">\r\n                                            {roomCode}\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"flex-shrink-0 ml-3\">\r\n                                    {copied ? (\r\n                                        <Check\r\n                                            size={18}\r\n                                            className=\"text-green-400\"\r\n                                        />\r\n                                    ) : (\r\n                                        <Copy\r\n                                            size={18}\r\n                                            className=\"text-slate-400 group-hover:text-white transition-colors\"\r\n                                        />\r\n                                    )}\r\n                                </div>\r\n                            </button>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"text-center py-2 animate-fade-in\">\r\n                            <span className=\"text-sm text-gray-400 italic\">\r\n                                Bağlantı ve Oda Kodu Gizlendi\r\n                            </span>\r\n                        </div>\r\n                    )}\r\n\r\n                    <button\r\n                        onClick={() => setHideUrl(!hideUrl)}\r\n                        className=\"flex items-center justify-center gap-2 w-full text-xs font-semibold text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 transition-colors\"\r\n                    >\r\n                        {hideUrl ? <Eye size={14} /> : <EyeOff size={14} />}\r\n                        {hideUrl\r\n                            ? \"Bağlantıyı Göster\"\r\n                            : \"URL Ve Oda Kodunu Gizle\"}\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Content */}\r\n                <div className=\"p-6 space-y-8\">\r\n                    {/* Action Buttons Grid */}\r\n                    <div>\r\n                        <div className=\"grid grid-cols-3 gap-3\">\r\n                            {/* Categories Button */}\r\n                            <button\r\n                                onClick={() => {\r\n                                    setTempSelectedCategories(selectedCategories);\r\n                                    setTempSelectedDifficulties(selectedDifficulties);\r\n                                    setShowCategoryModal(true);\r\n                                }}\r\n                                disabled={!isHost}\r\n                                className=\"flex flex-col items-center justify-center gap-2 p-4 rounded-xl bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800/50 hover:bg-purple-100 dark:hover:bg-purple-900/40 text-purple-700 dark:text-purple-300 transition-all active:scale-95 disabled:opacity-50\"\r\n                            >\r\n                                <LayoutGrid size={24} />\r\n                                <span className=\"text-xs font-bold\">\r\n                                    Kategoriler\r\n                                </span>\r\n                            </button>\r\n\r\n                            {/* Shuffle Teams Button */}\r\n                            <button\r\n                                onClick={onShuffleTeams}\r\n                                disabled={!isHost}\r\n                                className=\"flex flex-col items-center justify-center gap-2 p-4 rounded-xl bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 hover:bg-gray-100 dark:hover:bg-slate-600 text-gray-700 dark:text-gray-200 transition-all active:scale-95 disabled:opacity-50\"\r\n                            >\r\n                                <Shuffle size={24} />\r\n                                <span className=\"text-xs font-bold\">\r\n                                    Takım Karıştır\r\n                                </span>\r\n                            </button>\r\n\r\n                            {/* Change Team Button */}\r\n                            <button\r\n                                onClick={() => {\r\n                                    /* emit handled from parent */\r\n                                }}\r\n                                className=\"flex flex-col items-center justify-center gap-2 p-4 rounded-xl bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800/50 hover:bg-blue-100 dark:hover:bg-blue-900/40 text-blue-700 dark:text-blue-300 transition-all active:scale-95\"\r\n                            >\r\n                                <Users size={24} />\r\n                                <span className=\"text-xs font-bold\">\r\n                                    Takım Değiştir\r\n                                </span>\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* Selected Categories Info */}\r\n                        <div className=\"mt-4 text-center\">\r\n                            <span className=\"text-xs text-gray-400 uppercase font-semibold\">\r\n                                Seçili Kategoriler\r\n                            </span>\r\n                            <div className=\"flex items-center justify-center gap-2 mt-1\">\r\n                                <span className=\"text-sm font-medium text-slate-800 dark:text-slate-200\">\r\n                                    {getSelectedText()}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"h-px bg-gray-100 dark:bg-slate-700\" />\r\n\r\n                    {/* Game Settings */}\r\n                    <div>\r\n                        <div className=\"flex items-center gap-2 mb-4 text-gray-800 dark:text-gray-200\">\r\n                            <Settings size={18} />\r\n                            <h3 className=\"font-semibold\">Oyun Ayarları</h3>\r\n                        </div>\r\n\r\n                        {/* Game Mode Selection */}\r\n                        <div className=\"mb-4\">\r\n                            <label className=\"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-2\">\r\n                                Oyun Modu\r\n                            </label>\r\n                            <div className=\"grid grid-cols-2 gap-2\">\r\n                                <button\r\n                                    onClick={() =>\r\n                                        isHost &&\r\n                                        onUpdateSettings({\r\n                                            ...settings,\r\n                                            mod: \"tur\",\r\n                                        })\r\n                                    }\r\n                                    disabled={!isHost}\r\n                                    className={`flex items-center justify-center gap-2 py-3 rounded-xl border transition-all ${settings.mod === \"tur\"\r\n                                            ? \"bg-blue-50 border-blue-200 text-blue-700 dark:bg-blue-900/30 dark:border-blue-800 dark:text-blue-300 ring-1 ring-blue-500/20\"\r\n                                            : \"bg-white dark:bg-slate-900 border-gray-200 dark:border-slate-600 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-slate-800\"\r\n                                        }`}\r\n                                >\r\n                                    <Hash size={16} />\r\n                                    <span className=\"text-sm font-medium\">\r\n                                        Tur Sayısı\r\n                                    </span>\r\n                                </button>\r\n                                <button\r\n                                    onClick={() =>\r\n                                        isHost &&\r\n                                        onUpdateSettings({\r\n                                            ...settings,\r\n                                            mod: \"skor\",\r\n                                        })\r\n                                    }\r\n                                    disabled={!isHost}\r\n                                    className={`flex items-center justify-center gap-2 py-3 rounded-xl border transition-all ${settings.mod === \"skor\"\r\n                                            ? \"bg-blue-50 border-blue-200 text-blue-700 dark:bg-blue-900/30 dark:border-blue-800 dark:text-blue-300 ring-1 ring-blue-500/20\"\r\n                                            : \"bg-white dark:bg-slate-900 border-gray-200 dark:border-slate-600 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-slate-800\"\r\n                                        }`}\r\n                                >\r\n                                    <Trophy size={16} />\r\n                                    <span className=\"text-sm font-medium\">\r\n                                        Hedef Skor\r\n                                    </span>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"grid grid-cols-2 gap-4\">\r\n                            <div>\r\n                                <label className=\"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1.5 flex items-center gap-1\">\r\n                                    <Clock size={12} /> Süre (Saniye)\r\n                                </label>\r\n                                <select\r\n                                    value={settings.sure}\r\n                                    onChange={(e) =>\r\n                                        onUpdateSettings({\r\n                                            ...settings,\r\n                                            sure: Number(e.target.value),\r\n                                        })\r\n                                    }\r\n                                    className=\"w-full bg-gray-50 dark:bg-slate-900 border border-gray-200 dark:border-slate-600 text-gray-900 dark:text-white rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all\"\r\n                                    disabled={!isHost}\r\n                                >\r\n                                    <option value={30}>30 Saniye</option>\r\n                                    <option value={45}>45 Saniye</option>\r\n                                    <option value={60}>60 Saniye</option>\r\n                                    <option value={90}>90 Saniye</option>\r\n                                    <option value={120}>120 Saniye</option>\r\n                                </select>\r\n                            </div>\r\n\r\n                            <div>\r\n                                {settings.mod === \"tur\" ? (\r\n                                    <>\r\n                                        <label className=\"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1.5 flex items-center gap-1\">\r\n                                            <Hash size={12} /> Toplam Tur\r\n                                        </label>\r\n                                        <select\r\n                                            value={settings.deger}\r\n                                            onChange={(e) =>\r\n                                                onUpdateSettings({\r\n                                                    ...settings,\r\n                                                    deger: Number(\r\n                                                        e.target.value\r\n                                                    ),\r\n                                                })\r\n                                            }\r\n                                            className=\"w-full bg-gray-50 dark:bg-slate-900 border border-gray-200 dark:border-slate-600 text-gray-900 dark:text-white rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all\"\r\n                                            disabled={!isHost}\r\n                                        >\r\n                                            <option value={1}>1 Tur</option>\r\n                                            <option value={2}>2 Tur</option>\r\n                                            <option value={3}>3 Tur</option>\r\n                                            <option value={5}>5 Tur</option>\r\n                                        </select>\r\n                                    </>\r\n                                ) : (\r\n                                    <>\r\n                                        <label className=\"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1.5 flex items-center gap-1\">\r\n                                            <Trophy size={12} /> Hedef Skor\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"number\"\r\n                                            min={10}\r\n                                            max={100}\r\n                                            step={5}\r\n                                            value={settings.deger}\r\n                                            onChange={(e) =>\r\n                                                onUpdateSettings({\r\n                                                    ...settings,\r\n                                                    deger:\r\n                                                        Number(\r\n                                                            e.target.value\r\n                                                        ) || 10,\r\n                                                })\r\n                                            }\r\n                                            className=\"w-full bg-gray-50 dark:bg-slate-900 border border-gray-200 dark:border-slate-600 text-gray-900 dark:text-white rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none transition-all\"\r\n                                            disabled={!isHost}\r\n                                        />\r\n                                    </>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Start Action */}\r\n                    <div className=\"pt-2\">\r\n                        {isHost ? (\r\n                            <button\r\n                                onClick={onStartGame}\r\n                                disabled={\r\n                                    selectedCategories.length === 0 ||\r\n                                    selectedDifficulties.length === 0 ||\r\n                                    players.filter(\r\n                                        (p) => p.takim === \"A\" && p.online\r\n                                    ).length < 2 ||\r\n                                    players.filter(\r\n                                        (p) => p.takim === \"B\" && p.online\r\n                                    ).length < 2\r\n                                }\r\n                                className=\"w-full py-4 rounded-xl bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-bold text-lg shadow-lg shadow-green-600/20 transition-all transform active:scale-[0.99] flex items-center justify-center gap-2\"\r\n                            >\r\n                                <Play size={22} />\r\n                                Oyunu Başlat\r\n                            </button>\r\n                        ) : (\r\n                            <div className=\"w-full py-4 text-gray-400 text-center text-sm animate-pulse bg-gray-50 dark:bg-slate-900/50 rounded-xl\">\r\n                                Yönetici oyunu başlatıyor...\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Requirements notice */}\r\n                        {isHost &&\r\n                            (players.filter(\r\n                                (p) => p.takim === \"A\" && p.online\r\n                            ).length < 2 ||\r\n                                players.filter(\r\n                                    (p) => p.takim === \"B\" && p.online\r\n                                ).length < 2) && (\r\n                                <p className=\"text-xs text-muted-foreground text-center mt-2\">\r\n                                    Her takımda en az 2 çevrimiçi oyuncu\r\n                                    gerekli.\r\n                                </p>\r\n                            )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Category Selection Modal - ACCORDION STYLE */}\r\n            {showCategoryModal && (\r\n                <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in\">\r\n                    <div className=\"bg-white dark:bg-slate-800 w-full max-w-2xl rounded-3xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]\">\r\n                        {/* Modal Header */}\r\n                        <div className=\"p-6 border-b border-gray-100 dark:border-slate-700 flex items-center justify-between sticky top-0 bg-white dark:bg-slate-800 z-10\">\r\n                            <div>\r\n                                <h3 className=\"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2\">\r\n                                    <LayoutGrid className=\"text-blue-500\" />\r\n                                    Kategoriler\r\n                                </h3>\r\n                                <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n                                    Ana kategoriyi seçerek tümünü\r\n                                    ekleyebilirsin.\r\n                                </p>\r\n\r\n                                {/* Difficulty Selection */}\r\n                                <div className=\"mt-3 flex items-center gap-2\">\r\n                                    <span className=\"text-xs font-bold text-gray-400 uppercase tracking-wide mr-1\">\r\n                                        Zorluk:\r\n                                    </span>\r\n                                    {[1, 2, 3].map((diff) => {\r\n                                        const isSelected =\r\n                                            tempSelectedDifficulties.includes(\r\n                                                diff\r\n                                            );\r\n                                        return (\r\n                                            <button\r\n                                                key={diff}\r\n                                                onClick={() =>\r\n                                                    toggleDifficulty(diff)\r\n                                                }\r\n                                                className={`px-3 py-1 rounded-full text-xs font-bold border transition-all ${isSelected\r\n                                                        ? \"bg-slate-800 text-white dark:bg-white dark:text-slate-900 border-transparent\"\r\n                                                        : \"bg-transparent text-gray-400 border-gray-300 dark:border-slate-600\"\r\n                                                    }`}\r\n                                            >\r\n                                                {difficultyLabels[diff]}\r\n                                            </button>\r\n                                        );\r\n                                    })}\r\n                                </div>\r\n                            </div>\r\n                            <button\r\n                                onClick={() => setShowCategoryModal(false)}\r\n                                className=\"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full text-gray-500 transition-colors\"\r\n                            >\r\n                                <X size={24} />\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* Modal Body */}\r\n                        <div className=\"p-4 overflow-y-auto flex-1 custom-scrollbar\">\r\n                            <div className=\"space-y-2\">\r\n                                {/* Select All Row */}\r\n                                <div className=\"bg-gray-50 dark:bg-slate-900 rounded-xl overflow-hidden border border-gray-100 dark:border-slate-700 mb-2\">\r\n                                    <div className=\"flex items-center p-3 gap-3 bg-blue-50/50 dark:bg-blue-900/10\">\r\n                                        <button\r\n                                            onClick={toggleAllCategories}\r\n                                            className={`flex-shrink-0 transition-colors ${isAllSelected ? \"text-blue-600\" : \"text-gray-300 dark:text-gray-600\"}`}\r\n                                        >\r\n                                            {isAllSelected ? (\r\n                                                <CheckSquare size={24} />\r\n                                            ) : (\r\n                                                <Square size={24} />\r\n                                            )}\r\n                                        </button>\r\n                                        <span className=\"font-bold text-slate-800 dark:text-slate-200 text-sm sm:text-base\">\r\n                                            Tüm Kategoriler\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Category Accordion */}\r\n                                {parentCategories.map((mainCat) => {\r\n                                    const children = (\r\n                                        mainCat as {\r\n                                            children?: CategoryItem[];\r\n                                        }\r\n                                    ).children || [];\r\n                                    const allItems =\r\n                                        children.length > 0\r\n                                            ? children\r\n                                            : [mainCat];\r\n                                    const allSubSelected = allItems.every((c) =>\r\n                                        tempSelectedCategories.includes(c.id)\r\n                                    );\r\n                                    const someSubSelected = allItems.some((c) =>\r\n                                        tempSelectedCategories.includes(c.id)\r\n                                    );\r\n                                    const isExpanded = expandedCategories.has(\r\n                                        String(mainCat.id)\r\n                                    );\r\n\r\n                                    return (\r\n                                        <div\r\n                                            key={mainCat.id}\r\n                                            className=\"bg-gray-50 dark:bg-slate-900 rounded-xl overflow-hidden border border-gray-100 dark:border-slate-700\"\r\n                                        >\r\n                                            {/* Accordion Header */}\r\n                                            <div className=\"flex items-center p-3 gap-3\">\r\n                                                <button\r\n                                                    onClick={() => {\r\n                                                        const ids =\r\n                                                            allItems.map(\r\n                                                                (c) => c.id\r\n                                                            );\r\n                                                        if (allSubSelected) {\r\n                                                            setTempSelectedCategories(\r\n                                                                (prev) =>\r\n                                                                    prev.filter(\r\n                                                                        (id) =>\r\n                                                                            !ids.includes(\r\n                                                                                id\r\n                                                                            )\r\n                                                                    )\r\n                                                            );\r\n                                                        } else {\r\n                                                            setTempSelectedCategories(\r\n                                                                (prev) => {\r\n                                                                    const set =\r\n                                                                        new Set(\r\n                                                                            prev\r\n                                                                        );\r\n                                                                    ids.forEach(\r\n                                                                        (id) =>\r\n                                                                            set.add(\r\n                                                                                id\r\n                                                                            )\r\n                                                                    );\r\n                                                                    return Array.from(\r\n                                                                        set\r\n                                                                    );\r\n                                                                }\r\n                                                            );\r\n                                                        }\r\n                                                    }}\r\n                                                    className={`flex-shrink-0 transition-colors ${allSubSelected || someSubSelected ? \"text-blue-600\" : \"text-gray-300 dark:text-gray-600\"}`}\r\n                                                >\r\n                                                    {allSubSelected ? (\r\n                                                        <CheckSquare\r\n                                                            size={24}\r\n                                                        />\r\n                                                    ) : someSubSelected ? (\r\n                                                        <div className=\"relative\">\r\n                                                            <Square size={24} />\r\n                                                            <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                                                                <div className=\"w-3 h-3 bg-blue-600 rounded-sm\" />\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    ) : (\r\n                                                        <Square size={24} />\r\n                                                    )}\r\n                                                </button>\r\n\r\n                                                <button\r\n                                                    onClick={() =>\r\n                                                        toggleExpand(\r\n                                                            String(mainCat.id)\r\n                                                        )\r\n                                                    }\r\n                                                    className=\"flex-1 flex items-center justify-between group\"\r\n                                                >\r\n                                                    <div className=\"flex flex-col items-start\">\r\n                                                        <span className=\"font-bold text-slate-800 dark:text-slate-200 text-sm sm:text-base\">\r\n                                                            {mainCat.name}\r\n                                                        </span>\r\n                                                        <span className=\"text-xs text-gray-400\">\r\n                                                            {\r\n                                                                allItems.filter(\r\n                                                                    (c) =>\r\n                                                                        tempSelectedCategories.includes(\r\n                                                                            c.id\r\n                                                                        )\r\n                                                                ).length\r\n                                                            }{\" \"}\r\n                                                            / {allItems.length}{\" \"}\r\n                                                            seçili\r\n                                                        </span>\r\n                                                    </div>\r\n                                                    <div\r\n                                                        className={`p-1.5 rounded-full text-gray-400 group-hover:bg-gray-200 dark:group-hover:bg-slate-700 transition-all duration-200 ${isExpanded ? \"rotate-180\" : \"\"}`}\r\n                                                    >\r\n                                                        <ChevronDown\r\n                                                            size={20}\r\n                                                        />\r\n                                                    </div>\r\n                                                </button>\r\n                                            </div>\r\n\r\n                                            {/* Accordion Body - Responsive Grid */}\r\n                                            <div\r\n                                                className={`transition-all duration-300 ease-in-out overflow-hidden ${isExpanded\r\n                                                        ? \"max-h-96 opacity-100\"\r\n                                                        : \"max-h-0 opacity-0\"\r\n                                                    }`}\r\n                                            >\r\n                                                <div className=\"p-3 pt-0 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 border-t border-gray-100 dark:border-slate-800 mt-1\">\r\n                                                    {allItems.map((subCat) => {\r\n                                                        const isSelected =\r\n                                                            tempSelectedCategories.includes(\r\n                                                                subCat.id\r\n                                                            );\r\n                                                        return (\r\n                                                            <button\r\n                                                                key={subCat.id}\r\n                                                                onClick={() =>\r\n                                                                    toggleCategory(\r\n                                                                        subCat.id\r\n                                                                    )\r\n                                                                }\r\n                                                                className={`p-2.5 rounded-lg border text-left transition-all flex items-center justify-between ${isSelected\r\n                                                                        ? \"border-blue-500 bg-white dark:bg-slate-800 text-blue-700 dark:text-blue-300 ring-1 ring-blue-500/50 shadow-sm\"\r\n                                                                        : \"border-gray-200 dark:border-slate-700 hover:bg-white dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400\"\r\n                                                                    }`}\r\n                                                            >\r\n                                                                <span className=\"text-xs sm:text-sm font-medium truncate\">\r\n                                                                    {\r\n                                                                        subCat.name\r\n                                                                    }\r\n                                                                </span>\r\n                                                                {isSelected && (\r\n                                                                    <Check\r\n                                                                        size={\r\n                                                                            14\r\n                                                                        }\r\n                                                                        className=\"text-blue-600 dark:text-blue-400 flex-shrink-0\"\r\n                                                                    />\r\n                                                                )}\r\n                                                            </button>\r\n                                                        );\r\n                                                    })}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n\r\n                                {/* If no parent categories, show flat list */}\r\n                                {parentCategories.length === 0 &&\r\n                                    flatCategories.length > 0 && (\r\n                                        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2\">\r\n                                            {flatCategories.map((cat) => {\r\n                                                const isSelected =\r\n                                                    tempSelectedCategories.includes(\r\n                                                        cat.id\r\n                                                    );\r\n                                                return (\r\n                                                    <button\r\n                                                        key={cat.id}\r\n                                                        onClick={() =>\r\n                                                            toggleCategory(\r\n                                                                cat.id\r\n                                                            )\r\n                                                        }\r\n                                                        className={`p-2.5 rounded-lg border text-left transition-all flex items-center justify-between ${isSelected\r\n                                                                ? \"border-blue-500 bg-white dark:bg-slate-800 text-blue-700 dark:text-blue-300 ring-1 ring-blue-500/50 shadow-sm\"\r\n                                                                : \"border-gray-200 dark:border-slate-700 hover:bg-white dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400\"\r\n                                                            }`}\r\n                                                    >\r\n                                                        <span className=\"text-xs sm:text-sm font-medium truncate\">\r\n                                                            {cat.name}\r\n                                                        </span>\r\n                                                        {isSelected && (\r\n                                                            <Check\r\n                                                                size={14}\r\n                                                                className=\"flex-shrink-0\"\r\n                                                            />\r\n                                                        )}\r\n                                                    </button>\r\n                                                );\r\n                                            })}\r\n                                        </div>\r\n                                    )}\r\n\r\n                                {flatCategories.length === 0 && (\r\n                                    <div className=\"text-center py-8 text-gray-400\">\r\n                                        Kategoriler yükleniyor...\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Modal Footer */}\r\n                        <div className=\"p-6 border-t border-gray-100 dark:border-slate-700 bg-gray-50 dark:bg-slate-900\">\r\n                            <button\r\n                                onClick={confirmCategories}\r\n                                className=\"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-xl shadow-lg transition-transform active:scale-[0.99]\"\r\n                            >\r\n                                Seçimi Onayla ({tempSelectedCategories.length})\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\game\\rules-modal.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Timer' is defined but never used.","line":11,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":10,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Timer"},"fix":{"range":[102,114],"text":""},"desc":"Remove unused variable \"Timer\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport {\r\n    X,\r\n    Book,\r\n    Info,\r\n    Users,\r\n    User,\r\n    Eye,\r\n    Gamepad2,\r\n    Timer,\r\n    Hash,\r\n    Trophy,\r\n    Sparkles,\r\n    Feather,\r\n    Target,\r\n    Flame,\r\n} from \"lucide-react\";\r\n\r\ninterface RulesModalProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n}\r\n\r\nexport function RulesModal({ isOpen, onClose }: RulesModalProps) {\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200\">\r\n            <div className=\"bg-white dark:bg-slate-800 w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden border border-gray-100 dark:border-slate-700 flex flex-col max-h-[85vh]\">\r\n                {/* Modal Header */}\r\n                <div className=\"p-5 border-b border-gray-100 dark:border-slate-700 flex items-center justify-between bg-white dark:bg-slate-800 sticky top-0 z-10\">\r\n                    <h3 className=\"text-xl font-black text-slate-800 dark:text-white flex items-center gap-2\">\r\n                        <Book className=\"text-purple-500\" size={24} /> OYUN\r\n                        REHBERİ\r\n                    </h3>\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full text-gray-500 transition-colors\"\r\n                    >\r\n                        <X size={20} />\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Modal Content */}\r\n                <div className=\"p-6 overflow-y-auto space-y-8\">\r\n                    {/* 1. Oyun Amacı */}\r\n                    <section>\r\n                        <div className=\"flex items-center gap-2 mb-3\">\r\n                            <Info className=\"text-blue-500\" size={20} />\r\n                            <h4 className=\"font-bold text-slate-800 dark:text-white text-lg\">\r\n                                Oyunun Amacı\r\n                            </h4>\r\n                        </div>\r\n                        <p className=\"text-sm text-gray-600 dark:text-gray-300 leading-relaxed ml-7\">\r\n                            Takım arkadaşlarına kartın en üstündeki{\" \"}\r\n                            <span className=\"font-bold text-blue-600 dark:text-blue-400\">\r\n                                hedef kelimeyi\r\n                            </span>{\" \"}\r\n                            anlatmaya çalış. Yasaklı kelimeleri kullanmadan en\r\n                            çok kelimeyi anlatan takım oyunu kazanır.\r\n                        </p>\r\n                    </section>\r\n\r\n                    <hr className=\"border-gray-100 dark:border-slate-700\" />\r\n\r\n                    {/* 2. Roller */}\r\n                    <section>\r\n                        <div className=\"flex items-center gap-2 mb-4\">\r\n                            <Users className=\"text-purple-500\" size={20} />\r\n                            <h4 className=\"font-bold text-slate-800 dark:text-white text-lg\">\r\n                                Oyuncu Rolleri\r\n                            </h4>\r\n                        </div>\r\n                        <div className=\"grid gap-3 ml-7\">\r\n                            <div className=\"flex gap-3 items-start\">\r\n                                <div className=\"bg-orange-100 dark:bg-orange-900/30 text-orange-600 p-1.5 rounded-lg mt-0.5\">\r\n                                    <User size={16} />\r\n                                </div>\r\n                                <div>\r\n                                    <h5 className=\"font-bold text-sm text-slate-800 dark:text-white\">\r\n                                        Anlatan\r\n                                    </h5>\r\n                                    <p className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                                        Kelimeyi takımına tarif eden kişidir.\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"flex gap-3 items-start\">\r\n                                <div className=\"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 p-1.5 rounded-lg mt-0.5\">\r\n                                    <Users size={16} />\r\n                                </div>\r\n                                <div>\r\n                                    <h5 className=\"font-bold text-sm text-slate-800 dark:text-white\">\r\n                                        Tahmin Edenler\r\n                                    </h5>\r\n                                    <p className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                                        Anlatanın takım arkadaşlarıdır. Hedef\r\n                                        kelimeyi bulmaya çalışırlar.\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"flex gap-3 items-start\">\r\n                                <div className=\"bg-red-100 dark:bg-red-900/30 text-red-600 p-1.5 rounded-lg mt-0.5\">\r\n                                    <Eye size={16} />\r\n                                </div>\r\n                                <div>\r\n                                    <h5 className=\"font-bold text-sm text-slate-800 dark:text-white\">\r\n                                        Gözetmen\r\n                                    </h5>\r\n                                    <p className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                                        Rakip takımdan bir oyuncudur. Anlatanın\r\n                                        yasaklı kelime kullanıp kullanmadığını\r\n                                        kontrol eder.\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n\r\n                    <hr className=\"border-gray-100 dark:border-slate-700\" />\r\n\r\n                    {/* 3. Oyun Modları */}\r\n                    <section>\r\n                        <div className=\"flex items-center gap-2 mb-4\">\r\n                            <Gamepad2 className=\"text-indigo-500\" size={20} />\r\n                            <h4 className=\"font-bold text-slate-800 dark:text-white text-lg\">\r\n                                Oyun Modları\r\n                            </h4>\r\n                        </div>\r\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 ml-7\">\r\n                            <div className=\"bg-gray-50 dark:bg-slate-700/50 p-3 rounded-xl border border-gray-100 dark:border-slate-700\">\r\n                                <div className=\"flex items-center gap-2 mb-2\">\r\n                                    <Hash\r\n                                        size={16}\r\n                                        className=\"text-blue-500\"\r\n                                    />\r\n                                    <span className=\"font-bold text-sm dark:text-white\">\r\n                                        Tur Sayısı\r\n                                    </span>\r\n                                </div>\r\n                                <p className=\"text-xs text-gray-500 dark:text-gray-400 leading-snug\">\r\n                                    Belirlenen tur sayısı (Örn: 3 Tur)\r\n                                    bittiğinde en yüksek puana sahip takım\r\n                                    kazanır.\r\n                                </p>\r\n                            </div>\r\n                            <div className=\"bg-gray-50 dark:bg-slate-700/50 p-3 rounded-xl border border-gray-100 dark:border-slate-700\">\r\n                                <div className=\"flex items-center gap-2 mb-2\">\r\n                                    <Trophy\r\n                                        size={16}\r\n                                        className=\"text-amber-500\"\r\n                                    />\r\n                                    <span className=\"font-bold text-sm dark:text-white\">\r\n                                        Hedef Skor\r\n                                    </span>\r\n                                </div>\r\n                                <p className=\"text-xs text-gray-500 dark:text-gray-400 leading-snug\">\r\n                                    Belirlenen puana (Örn: 50 Puan) ilk ulaşan\r\n                                    takım kazanır.\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Altın Skor */}\r\n                        <div className=\"mt-4 ml-7 bg-amber-50 dark:bg-amber-900/20 border border-amber-100 dark:border-amber-800/50 p-3 rounded-xl flex gap-3\">\r\n                            <Sparkles\r\n                                className=\"text-amber-500 flex-shrink-0\"\r\n                                size={20}\r\n                            />\r\n                            <div>\r\n                                <h5 className=\"font-bold text-sm text-amber-700 dark:text-amber-400\">\r\n                                    Altın Skor Kuralı\r\n                                </h5>\r\n                                <p className=\"text-xs text-amber-600/80 dark:text-amber-500/80 mt-1\">\r\n                                    Eğer tur usulü oyunun sonunda puanlar\r\n                                    eşitse, oyun &quot;Altın Skor&quot; moduna\r\n                                    geçer. Sıradaki kartı bilen ilk takım oyunu\r\n                                    anında kazanır!\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n\r\n                    <hr className=\"border-gray-100 dark:border-slate-700\" />\r\n\r\n                    {/* 4. Zorluk Seviyeleri */}\r\n                    <section>\r\n                        <div className=\"flex items-center gap-2 mb-4\">\r\n                            <Target className=\"text-rose-500\" size={20} />\r\n                            <h4 className=\"font-bold text-slate-800 dark:text-white text-lg\">\r\n                                Kart Zorlukları\r\n                            </h4>\r\n                        </div>\r\n                        <p className=\"text-sm text-gray-600 dark:text-gray-300 ml-7 mb-3\">\r\n                            Kartın sağ üst köşesindeki semboller kelimenin\r\n                            zorluğunu belirtir:\r\n                        </p>\r\n                        <div className=\"flex flex-wrap gap-4 ml-7\">\r\n                            <div className=\"flex items-center gap-2 bg-blue-50 dark:bg-blue-900/20 px-3 py-1.5 rounded-lg border border-blue-100 dark:border-blue-800\">\r\n                                <Feather\r\n                                    size={16}\r\n                                    className=\"text-blue-500\"\r\n                                />\r\n                                <span className=\"text-xs font-bold text-blue-700 dark:text-blue-300\">\r\n                                    Kolay\r\n                                </span>\r\n                            </div>\r\n                            <div className=\"flex items-center gap-2 bg-purple-50 dark:bg-purple-900/20 px-3 py-1.5 rounded-lg border border-purple-100 dark:border-purple-800\">\r\n                                <Target\r\n                                    size={16}\r\n                                    className=\"text-purple-500\"\r\n                                />\r\n                                <span className=\"text-xs font-bold text-purple-700 dark:text-purple-300\">\r\n                                    Orta\r\n                                </span>\r\n                            </div>\r\n                            <div className=\"flex items-center gap-2 bg-red-50 dark:bg-red-900/20 px-3 py-1.5 rounded-lg border border-red-100 dark:border-red-800\">\r\n                                <Flame size={16} className=\"text-red-500\" />\r\n                                <span className=\"text-xs font-bold text-red-700 dark:text-red-300\">\r\n                                    Zor\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n\r\n                    <hr className=\"border-gray-100 dark:border-slate-700\" />\r\n\r\n                    {/* 5. Puanlama Tablosu */}\r\n                    <section>\r\n                        <h4 className=\"font-bold text-slate-800 dark:text-white text-lg mb-4 text-center\">\r\n                            Puanlama Tablosu\r\n                        </h4>\r\n                        <div className=\"grid grid-cols-3 gap-2 text-center\">\r\n                            <div className=\"bg-gray-50 dark:bg-slate-700/50 p-3 rounded-xl border border-gray-100 dark:border-slate-700\">\r\n                                <div className=\"text-green-500 font-black text-2xl\">\r\n                                    +1\r\n                                </div>\r\n                                <div className=\"text-[10px] text-gray-400 font-bold uppercase mt-1\">\r\n                                    Doğru\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"bg-gray-50 dark:bg-slate-700/50 p-3 rounded-xl border border-gray-100 dark:border-slate-700\">\r\n                                <div className=\"text-red-500 font-black text-2xl\">\r\n                                    -1\r\n                                </div>\r\n                                <div className=\"text-[10px] text-gray-400 font-bold uppercase mt-1\">\r\n                                    Tabu / Hata\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"bg-gray-50 dark:bg-slate-700/50 p-3 rounded-xl border border-gray-100 dark:border-slate-700\">\r\n                                <div className=\"text-amber-500 font-black text-2xl\">\r\n                                    0\r\n                                </div>\r\n                                <div className=\"text-[10px] text-gray-400 font-bold uppercase mt-1\">\r\n                                    Pas\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n                </div>\r\n\r\n                {/* Footer */}\r\n                <div className=\"p-5 border-t border-gray-100 dark:border-slate-700 bg-white dark:bg-slate-800\">\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"w-full py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl font-bold hover:opacity-90 transition-opacity\"\r\n                    >\r\n                        Her Şey Anlaşıldı, Oyuna Dön\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\game\\sidebar.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Menu' is defined but never used.","line":3,"column":67,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":71,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Menu"},"fix":{"range":[81,87],"text":""},"desc":"Remove unused variable \"Menu\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'creatorId' is defined but never used.","line":54,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":54,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'currentSocketId' is defined but never used.","line":56,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":56,"endColumn":20}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { Crown, ChevronLeft, ChevronRight, Users, Shield, Swords, Menu, MoreVertical, UserX, ArrowRightLeft } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuItem,\r\n    DropdownMenuLabel,\r\n    DropdownMenuSeparator,\r\n    DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport type { Player } from \"@/types/game\";\r\n\r\ninterface SidebarProps {\r\n    team: \"A\" | \"B\";\r\n    players: Player[];\r\n    creatorId: string;\r\n    creatorPlayerId: string;\r\n    currentSocketId: string;\r\n    currentPlayerId: string;\r\n    isOpen: boolean;\r\n    onToggle: () => void;\r\n    isMobile: boolean;\r\n    onSwitchTeam?: () => void;\r\n    onKickPlayer?: (playerId: string) => void;\r\n    onTransferHost?: (playerId: string) => void;\r\n}\r\n\r\nconst teamTheme = {\r\n    A: {\r\n        primary: \"text-red-600 dark:text-red-500\",\r\n        bg: \"bg-red-50 dark:bg-red-900/10\",\r\n        border: \"border-red-200 dark:border-red-900/30\",\r\n        gradient: \"from-red-500/10 to-transparent\",\r\n        avatar: \"bg-red-100 text-red-600 dark:bg-red-500/20 dark:text-red-400\",\r\n        hover: \"hover:bg-red-50 dark:hover:bg-red-900/20\",\r\n        footerBg: \"bg-red-500\",\r\n    },\r\n    B: {\r\n        primary: \"text-blue-600 dark:text-blue-500\",\r\n        bg: \"bg-blue-50 dark:bg-blue-900/10\",\r\n        border: \"border-blue-200 dark:border-blue-900/30\",\r\n        gradient: \"from-blue-500/10 to-transparent\",\r\n        avatar: \"bg-blue-100 text-blue-600 dark:bg-blue-500/20 dark:text-blue-400\",\r\n        hover: \"hover:bg-blue-50 dark:hover:bg-blue-900/20\",\r\n        footerBg: \"bg-blue-500\",\r\n    },\r\n};\r\n\r\nexport function Sidebar({\r\n    team,\r\n    players,\r\n    creatorId,\r\n    creatorPlayerId,\r\n    currentSocketId,\r\n    currentPlayerId,\r\n    isOpen,\r\n    onToggle,\r\n    isMobile,\r\n    onSwitchTeam,\r\n    onKickPlayer,\r\n    onTransferHost,\r\n}: SidebarProps) {\r\n    const theme = teamTheme[team];\r\n    const isTeamA = team === \"A\";\r\n    const teamPlayers = players.filter((p) => p.takim === team);\r\n    // Use playerId comparison for reliable host detection (socketId changes on reconnect)\r\n    const isHost = currentPlayerId && creatorPlayerId ? currentPlayerId === creatorPlayerId : false;\r\n\r\n    // Sidebar width\r\n    const sidebarWidth = isOpen ? \"w-80\" : \"w-20\";\r\n\r\n    // Position classes: mobile = fixed sliding panel, desktop = relative flex item\r\n    const positionClasses = isMobile\r\n        ? `fixed inset-y-0 z-40 ${isTeamA ? \"left-0\" : \"right-0\"} w-72 shadow-2xl transform transition-transform duration-300 ${isOpen\r\n            ? \"translate-x-0\"\r\n            : isTeamA\r\n                ? \"-translate-x-full\"\r\n                : \"translate-x-full\"\r\n        }`\r\n        : `relative h-full transition-all duration-300 ease-in-out flex-shrink-0 ${sidebarWidth}`;\r\n\r\n    const borderClass = isTeamA ? \"border-r\" : \"border-l\";\r\n\r\n    return (\r\n        <aside\r\n            className={`${positionClasses} flex flex-col bg-white dark:bg-slate-900 border-gray-100 dark:border-slate-800 ${!isMobile ? borderClass : \"\"} overflow-hidden group/sidebar`}\r\n        >\r\n            {/* Background Decor: Watermark Letter */}\r\n            <div className=\"absolute top-0 inset-x-0 h-96 pointer-events-none select-none overflow-hidden\">\r\n                <div\r\n                    className={`absolute inset-0 bg-gradient-to-b ${theme.gradient} opacity-100`}\r\n                />\r\n                <div\r\n                    className={`absolute -top-12 ${isTeamA ? \"-left-10\" : \"-right-10\"} text-[14rem] font-black opacity-[0.04] dark:opacity-[0.06] ${theme.primary} leading-none`}\r\n                >\r\n                    {team}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Header */}\r\n            <div className=\"relative z-10 flex flex-col justify-center min-h-[5rem] px-4 pt-4 pb-2\">\r\n                <div\r\n                    className={`flex items-center ${!isOpen && !isMobile\r\n                        ? \"justify-center\"\r\n                        : isTeamA\r\n                            ? \"justify-between\"\r\n                            : \"justify-start gap-3\"\r\n                        }`}\r\n                >\r\n                    {/* Toggle Button for Team B (left side for symmetry) */}\r\n                    {!isTeamA && !isMobile && isOpen && (\r\n                        <button\r\n                            onClick={onToggle}\r\n                            className=\"p-2 rounded-lg text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors\"\r\n                        >\r\n                            <ChevronRight size={20} />\r\n                        </button>\r\n                    )}\r\n\r\n                    {/* Title Area */}\r\n                    {isOpen || isMobile ? (\r\n                        <div className=\"flex items-center gap-3 animate-fade-in\">\r\n                            <div\r\n                                className={`w-10 h-10 rounded-xl flex items-center justify-center shadow-sm border border-white/50 dark:border-white/10 ${theme.bg}`}\r\n                            >\r\n                                {isTeamA ? (\r\n                                    <Swords size={20} className={theme.primary} />\r\n                                ) : (\r\n                                    <Shield size={20} className={theme.primary} />\r\n                                )}\r\n                            </div>\r\n                            <div>\r\n                                <h2\r\n                                    className={`text-2xl font-black uppercase tracking-tight leading-none ${theme.primary}`}\r\n                                >\r\n                                    TAKIM {team}\r\n                                </h2>\r\n                                <div\r\n                                    className={`h-1 w-8 rounded-full ${theme.bg} mt-1 brightness-95`}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    ) : (\r\n                        // Collapsed Header Icon\r\n                        <div\r\n                            className={`w-12 h-12 rounded-2xl flex items-center justify-center font-black text-2xl shadow-sm border border-white/50 dark:border-white/10 ${theme.bg} ${theme.primary}`}\r\n                        >\r\n                            {team}\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Toggle Button for Team A (right side) */}\r\n                    {isTeamA && !isMobile && isOpen && (\r\n                        <button\r\n                            onClick={onToggle}\r\n                            className=\"p-2 rounded-lg text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors\"\r\n                        >\r\n                            <ChevronLeft size={20} />\r\n                        </button>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Player List */}\r\n            <div className=\"relative z-10 flex-1 overflow-y-auto px-3 py-4 space-y-3 scrollbar-hide\">\r\n                {/* Collapsed Toggle Button */}\r\n                {!isOpen && !isMobile && (\r\n                    <button\r\n                        onClick={onToggle}\r\n                        className=\"w-full flex justify-center mb-6 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors\"\r\n                    >\r\n                        {isTeamA ? (\r\n                            <ChevronRight size={24} />\r\n                        ) : (\r\n                            <ChevronLeft size={24} />\r\n                        )}\r\n                    </button>\r\n                )}\r\n\r\n                {teamPlayers.map((player) => {\r\n                    const isCreator = player.playerId === creatorPlayerId;\r\n                    const isMe = player.playerId === currentPlayerId;\r\n                    const canManage = isHost && !isMe && !isCreator;\r\n\r\n                    return (\r\n                        <div\r\n                            key={player.playerId}\r\n                            className={`group relative flex items-center gap-3 rounded-2xl transition-all duration-200 cursor-default select-none border border-transparent ${isOpen || isMobile\r\n                                ? `p-3 ${theme.hover}`\r\n                                : \"justify-center py-2\"\r\n                                }`}\r\n                        >\r\n                            {/* Avatar */}\r\n                            <div className=\"relative\">\r\n                                <div\r\n                                    className={`relative w-11 h-11 rounded-2xl flex items-center justify-center font-black text-lg shadow-sm transition-transform duration-200 group-hover:scale-105 ${theme.avatar} ring-2 ring-white dark:ring-slate-900`}\r\n                                >\r\n                                    {(player.ad || \"?\")\r\n                                        .substring(0, 1)\r\n                                        .toUpperCase()}\r\n                                </div>\r\n\r\n                                {/* Crown for Host */}\r\n                                {isCreator && (\r\n                                    <div className=\"absolute -top-2 -right-2 bg-amber-400 text-white p-1 rounded-full ring-4 ring-white dark:ring-slate-900 shadow-sm z-20\">\r\n                                        <Crown size={12} strokeWidth={3} />\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n\r\n                            {/* Name (visible when expanded) */}\r\n                            {(isOpen || isMobile) && (\r\n                                <div className=\"flex-1 min-w-0 animate-fade-in flex flex-col justify-center h-11\">\r\n                                    <p\r\n                                        className={`font-bold truncate text-base leading-tight ${player.online\r\n                                            ? \"text-slate-700 dark:text-gray-200\"\r\n                                            : \"text-muted-foreground line-through\"\r\n                                            }`}\r\n                                    >\r\n                                        {player.ad}\r\n                                        {isMe && (\r\n                                            <span className=\"text-muted-foreground text-xs ml-1 font-normal\">\r\n                                                (sen)\r\n                                            </span>\r\n                                        )}\r\n                                    </p>\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* Admin Actions */}\r\n                            {(isOpen || isMobile) && canManage && (\r\n                                <DropdownMenu>\r\n                                    <DropdownMenuTrigger asChild>\r\n                                        <button className=\"p-1.5 rounded-lg text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-white dark:hover:bg-slate-800 transition-colors\">\r\n                                            <MoreVertical size={16} />\r\n                                        </button>\r\n                                    </DropdownMenuTrigger>\r\n                                    <DropdownMenuContent align=\"end\">\r\n                                        <DropdownMenuLabel>Yönetici İşlemleri</DropdownMenuLabel>\r\n                                        <DropdownMenuSeparator />\r\n                                        <DropdownMenuItem\r\n                                            onClick={() => onTransferHost?.(player.playerId)}\r\n                                            className=\"text-blue-600 focus:text-blue-700 focus:bg-blue-50 cursor-pointer\"\r\n                                            disabled={!onTransferHost}\r\n                                        >\r\n                                            <ArrowRightLeft className=\"mr-2 h-4 w-4\" />\r\n                                            <span>Yöneticiliği Devret</span>\r\n                                        </DropdownMenuItem>\r\n                                        <DropdownMenuItem\r\n                                            onClick={() => onKickPlayer?.(player.playerId)}\r\n                                            className=\"text-red-600 focus:text-red-700 focus:bg-red-50 cursor-pointer\"\r\n                                            disabled={!onKickPlayer}\r\n                                        >\r\n                                            <UserX className=\"mr-2 h-4 w-4\" />\r\n                                            <span>Oyundan At</span>\r\n                                        </DropdownMenuItem>\r\n                                    </DropdownMenuContent>\r\n                                </DropdownMenu>\r\n                            )}\r\n\r\n                            {/* Active Indicator (Decorative) */}\r\n                            {(isOpen || isMobile) && (\r\n                                <div\r\n                                    className={`w-1 h-6 rounded-full bg-current opacity-0 group-hover:opacity-20 transition-opacity ${theme.primary}`}\r\n                                />\r\n                            )}\r\n                        </div>\r\n                    );\r\n                })}\r\n\r\n                {/* Empty State */}\r\n                {teamPlayers.length === 0 && (\r\n                    <div\r\n                        className={`flex flex-col items-center justify-center text-gray-300 dark:text-slate-700 py-12 ${!isOpen && !isMobile ? \"scale-75\" : \"\"}`}\r\n                    >\r\n                        <Users\r\n                            size={28}\r\n                            strokeWidth={1.5}\r\n                            className=\"mb-2 opacity-50\"\r\n                        />\r\n                        {(isOpen || isMobile) && (\r\n                            <span className=\"text-xs font-bold uppercase tracking-widest opacity-60\">\r\n                                Boş\r\n                            </span>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Team Switch Button */}\r\n            {\r\n                onSwitchTeam && (isOpen || isMobile) && (\r\n                    <div className=\"relative z-10 p-3 border-t border-gray-100 dark:border-slate-800\">\r\n                        <Button\r\n                            variant=\"ghost\"\r\n                            size=\"sm\"\r\n                            className=\"w-full text-xs\"\r\n                            onClick={onSwitchTeam}\r\n                        >\r\n                            Takım Değiştir\r\n                        </Button>\r\n                    </div>\r\n                )\r\n            }\r\n\r\n            {/* Footer Decoration */}\r\n            <div className={`h-1 w-full opacity-60 ${theme.footerBg}`} />\r\n        </aside >\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\providers\\session-provider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\providers\\socket-provider.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useRef' is defined but never used.","line":8,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":11,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"useRef"},"fix":{"range":[92,105],"text":""},"desc":"Remove unused variable \"useRef\"."}]},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nD:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\providers\\socket-provider.tsx:34:9\n  32 |         });\n  33 |\n> 34 |         setSocket(socketInstance);\n     |         ^^^^^^^^^ Avoid calling setState() directly within an effect\n  35 |\n  36 |         socketInstance.on(\"connect\", () => {\n  37 |             setIsConnected(true);","line":34,"column":9,"nodeType":null,"endLine":34,"endColumn":18}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport {\r\n    createContext,\r\n    useContext,\r\n    useEffect,\r\n    useState,\r\n    useRef,\r\n    type ReactNode,\r\n} from \"react\";\r\nimport { io, Socket } from \"socket.io-client\";\r\n\r\ninterface SocketContextValue {\r\n    socket: Socket | null;\r\n    isConnected: boolean;\r\n}\r\n\r\nconst SocketContext = createContext<SocketContextValue>({\r\n    socket: null,\r\n    isConnected: false,\r\n});\r\n\r\nexport function SocketProvider({ children }: { children: ReactNode }) {\r\n    const [isConnected, setIsConnected] = useState(false);\r\n    const [socket, setSocket] = useState<Socket | null>(null);\r\n\r\n    useEffect(() => {\r\n        // Connect to the Socket.IO server\r\n        const socketInstance = io({\r\n            path: \"/api/socketio\",\r\n            transports: [\"websocket\", \"polling\"],\r\n        });\r\n\r\n        setSocket(socketInstance);\r\n\r\n        socketInstance.on(\"connect\", () => {\r\n            setIsConnected(true);\r\n        });\r\n\r\n        socketInstance.on(\"disconnect\", () => {\r\n            setIsConnected(false);\r\n        });\r\n\r\n        return () => {\r\n            socketInstance.disconnect();\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <SocketContext.Provider\r\n            value={{\r\n                socket,\r\n                isConnected,\r\n            }}\r\n        >\r\n            {children}\r\n        </SocketContext.Provider>\r\n    );\r\n}\r\n\r\nexport function useSocket() {\r\n    const context = useContext(SocketContext);\r\n    if (!context) {\r\n        throw new Error(\"useSocket must be used within a SocketProvider\");\r\n    }\r\n    return context;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\providers\\theme-provider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\ui\\alert.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\ui\\avatar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\ui\\badge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\ui\\button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\ui\\card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\ui\\dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\ui\\dropdown-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\ui\\input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\ui\\label.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\ui\\select.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\ui\\separator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\ui\\sheet.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\ui\\sidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\ui\\skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\ui\\sonner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\ui\\table.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\ui\\tabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\ui\\textarea.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\components\\ui\\tooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\hooks\\use-mobile.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\lib\\auth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\lib\\prisma.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\lib\\socket\\category-service.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\lib\\socket\\game-socket.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ip' is defined but never used.","line":220,"column":56,"nodeType":"Identifier","messageId":"unusedVar","endLine":220,"endColumn":58,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\lib\\socket\\room-metrics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\lib\\socket\\word-service.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\middleware.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\types\\game.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\src\\types\\next-auth.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\gemini_tabu_test\\geminitabu\\newnextjs\\tailwind.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]